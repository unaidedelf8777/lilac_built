import{S as Oe,i as Te,s as Ce,D as _e,Z as ue,_ as fe,m as v,h as c,n as P,$ as ke,b as B,a0 as _,K as He,a1 as G,M as Me,Q as Ie,q as le,r as ie,u as we,x as lt,k as D,a as ee,y as ne,l as L,c as te,z as oe,F as J,A as re,G as Re,a7 as Ve,g as k,v as ve,d as C,f as pe,B as ae,a8 as Fe,L as We,ag as xl,N as Il,w as Xe,U as dt,V as ht,e as De,C as $l,H as ei,I as ti,J as li,O as Ye,ab as Ne,o as El,T as Pl,a2 as mt,R as Ol,a3 as Tl,ah as ii,X as ni,Y as ri,a4 as Tt,a9 as ai}from"./index.6d58eddb.js";import{h as Se,aY as oi,P as _t,a as Cl,a2 as gt,b4 as Vl,b5 as Sl,as as Dl,X as $e,ah as qe,b6 as tt,b2 as si,a7 as Ae,b7 as ui,au as fi,a1 as Qe,l as ci,aa as di,aw as et,ae as hi,ac as mi,a9 as Ll,b8 as _i,aq as gi,aO as bi,d as Al,V as st,b9 as vi,a5 as pi,a6 as wi,ad as yi,aN as ki,ba as Mi,x as Ct,an as Ii,a8 as Ei,az as Nl,aE as zl,bb as Bl,S as Pi,b as Rl,T as Oi,bc as Ti,aG as Vt}from"./Commands.f21feee1.js";import{g as Hl,s as St}from"./notificationsStore.a58b8b24.js";import{S as Ci}from"./SidePanelClose.dca9218d.js";import{S as Vi}from"./Page.a0832e69.js";import{M as Si}from"./ToastNotification.0ea457ce.js";import{g as Di}from"./settingsStore.3abd8af5.js";import{C as Li,a as Ai}from"./ChevronUp.d4050376.js";import{S as Ni}from"./Search.5f4df38b.js";import{_ as zi}from"./preload-helper.a4192956.js";import{d as Bi}from"./index.fcc110a5.js";import{c as Ri,g as Hi}from"./spanHighlight.730a83eb.js";import{I as Fi}from"./ItemMetadata.972e4d81.js";import{C as ji}from"./ComboBox.fb0d815b.js";function Dt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function qi(i){let e,t,l=i[1]&&Dt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=_e(o,n[r]);return{c(){e=ue("svg"),l&&l.c(),t=ue("path"),this.h()},l(r){e=fe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=v(e);l&&l.l(s),t=fe(s,"path",{d:!0}),v(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),ke(e,o)},m(r,s){B(r,e,s),l&&l.m(e,null),_(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=Dt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),ke(e,o=He(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:G,o:G,d(r){r&&c(e),l&&l.d()}}}function Yi(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class Ui extends Oe{constructor(e){super(),Te(this,e,Yi,qi,Ce,{size:0,title:1})}}function Lt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function Ki(i){let e,t,l=i[1]&&Lt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=_e(o,n[r]);return{c(){e=ue("svg"),l&&l.c(),t=ue("path"),this.h()},l(r){e=fe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=v(e);l&&l.l(s),t=fe(s,"path",{d:!0}),v(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),ke(e,o)},m(r,s){B(r,e,s),l&&l.m(e,null),_(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=Lt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),ke(e,o=He(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:G,o:G,d(r){r&&c(e),l&&l.d()}}}function Wi(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class Gi extends Oe{constructor(e){super(),Te(this,e,Wi,Ki,Ce,{size:0,title:1})}}function At(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function Zi(i){let e,t,l=i[1]&&At(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=_e(o,n[r]);return{c(){e=ue("svg"),l&&l.c(),t=ue("path"),this.h()},l(r){e=fe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=v(e);l&&l.l(s),t=fe(s,"path",{d:!0}),v(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),ke(e,o)},m(r,s){B(r,e,s),l&&l.m(e,null),_(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=At(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),ke(e,o=He(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:G,o:G,d(r){r&&c(e),l&&l.d()}}}function Qi(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class Xi extends Oe{constructor(e){super(),Te(this,e,Qi,Zi,Ce,{size:0,title:1})}}function Nt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function Ji(i){let e,t,l,n=i[1]&&Nt(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=_e(r,o[s]);return{c(){e=ue("svg"),n&&n.c(),t=ue("path"),l=ue("path"),this.h()},l(s){e=fe(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=v(e);n&&n.l(a),t=fe(a,"path",{d:!0}),v(t).forEach(c),l=fe(a,"path",{d:!0}),v(l).forEach(c),a.forEach(c),this.h()},h(){P(t,"d","M20 20L21.4 21.4 18.8 24 28 24 28 26 18.8 26 21.4 28.6 20 30 15 25zM14 15H22V17H14zM14 8H22V10H14z"),P(l,"d","M13,28H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18v16h2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v4H4v2h2v5H4v2h2v5H4v2h2v4	c0,1.1,0.9,2,2,2h5V28z"),ke(e,r)},m(s,a){B(s,e,a),n&&n.m(e,null),_(e,t),_(e,l)},p(s,[a]){s[1]?n?n.p(s,a):(n=Nt(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),ke(e,r=He(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:G,o:G,d(s){s&&c(e),n&&n.d()}}}function xi(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class $i extends Oe{constructor(e){super(),Te(this,e,xi,Ji,Ce,{size:0,title:1})}}function zt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function en(i){let e,t,l,n,o=i[1]&&zt(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let a=0;a<r.length;a+=1)s=_e(s,r[a]);return{c(){e=ue("svg"),o&&o.c(),t=ue("circle"),l=ue("path"),n=ue("path"),this.h()},l(a){e=fe(a,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=v(e);o&&o.l(u),t=fe(u,"circle",{cx:!0,cy:!0,r:!0}),v(t).forEach(c),l=fe(u,"path",{d:!0}),v(l).forEach(c),n=fe(u,"path",{d:!0}),v(n).forEach(c),u.forEach(c),this.h()},h(){P(t,"cx","22"),P(t,"cy","24"),P(t,"r","2"),P(l,"d","M29.7769 23.4785A8.64 8.64 0 0022 18a8.64 8.64 0 00-7.7769 5.4785L14 24l.2231.5215A8.64 8.64 0 0022 30a8.64 8.64 0 007.7769-5.4785L30 24zM22 28a4 4 0 114-4A4.0045 4.0045 0 0122 28zM7 17H12V19H7zM7 12H19V14H7zM7 7H19V9H7z"),P(n,"d","M22,2,4,2A2.0058,2.0058,0,0,0,2,4V28a2.0058,2.0058,0,0,0,2,2h8V28H4V4H22V15h2V4A2.0058,2.0058,0,0,0,22,2Z"),ke(e,s)},m(a,u){B(a,e,u),o&&o.m(e,null),_(e,t),_(e,l),_(e,n)},p(a,[u]){a[1]?o?o.p(a,u):(o=zt(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),ke(e,s=He(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:a[0]},u&1&&{height:a[0]},u&4&&a[2],u&8&&a[3]]))},i:G,o:G,d(a){a&&c(e),o&&o.d()}}}function tn(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class ln extends Oe{constructor(e){super(),Te(this,e,tn,en,Ce,{size:0,title:1})}}function Bt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function nn(i){let e,t,l=i[1]&&Bt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=_e(o,n[r]);return{c(){e=ue("svg"),l&&l.c(),t=ue("path"),this.h()},l(r){e=fe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=v(e);l&&l.l(s),t=fe(s,"path",{d:!0}),v(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),ke(e,o)},m(r,s){B(r,e,s),l&&l.m(e,null),_(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=Bt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),ke(e,o=He(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:G,o:G,d(r){r&&c(e),l&&l.d()}}}function rn(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class an extends Oe{constructor(e){super(),Te(this,e,rn,nn,Ce,{size:0,title:1})}}function Rt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function on(i){let e,t,l,n=i[1]&&Rt(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=_e(r,o[s]);return{c(){e=ue("svg"),n&&n.c(),t=ue("path"),l=ue("path"),this.h()},l(s){e=fe(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=v(e);n&&n.l(a),t=fe(a,"path",{d:!0}),v(t).forEach(c),l=fe(a,"path",{d:!0}),v(l).forEach(c),a.forEach(c),this.h()},h(){P(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),P(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),ke(e,r)},m(s,a){B(s,e,a),n&&n.m(e,null),_(e,t),_(e,l)},p(s,[a]){s[1]?n?n.p(s,a):(n=Rt(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),ke(e,r=He(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:G,o:G,d(s){s&&c(e),n&&n.d()}}}function sn(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class un extends Oe{constructor(e){super(),Te(this,e,sn,on,Ce,{size:0,title:1})}}function Ht(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function fn(i){let e,t,l=i[1]&&Ht(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=_e(o,n[r]);return{c(){e=ue("svg"),l&&l.c(),t=ue("path"),this.h()},l(r){e=fe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=v(e);l&&l.l(s),t=fe(s,"path",{d:!0}),v(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),ke(e,o)},m(r,s){B(r,e,s),l&&l.m(e,null),_(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=Ht(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),ke(e,o=He(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:G,o:G,d(r){r&&c(e),l&&l.d()}}}function cn(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class dn extends Oe{constructor(e){super(),Te(this,e,cn,fn,Ce,{size:0,title:1})}}function Ft(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function hn(i){let e,t,l=i[1]&&Ft(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=_e(o,n[r]);return{c(){e=ue("svg"),l&&l.c(),t=ue("path"),this.h()},l(r){e=fe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=v(e);l&&l.l(s),t=fe(s,"path",{d:!0}),v(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),ke(e,o)},m(r,s){B(r,e,s),l&&l.m(e,null),_(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=Ft(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),ke(e,o=He(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:G,o:G,d(r){r&&c(e),l&&l.d()}}}function mn(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class _n extends Oe{constructor(e){super(),Te(this,e,mn,hn,Ce,{size:0,title:1})}}function jt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function gn(i){let e,t,l,n=i[1]&&jt(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=_e(r,o[s]);return{c(){e=ue("svg"),n&&n.c(),t=ue("path"),l=ue("path"),this.h()},l(s){e=fe(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=v(e);n&&n.l(a),t=fe(a,"path",{d:!0}),v(t).forEach(c),l=fe(a,"path",{d:!0}),v(l).forEach(c),a.forEach(c),this.h()},h(){P(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),P(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),ke(e,r)},m(s,a){B(s,e,a),n&&n.m(e,null),_(e,t),_(e,l)},p(s,[a]){s[1]?n?n.p(s,a):(n=jt(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),ke(e,r=He(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:G,o:G,d(s){s&&c(e),n&&n.d()}}}function bn(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class Fl extends Oe{constructor(e){super(),Te(this,e,bn,gn,Ce,{size:0,title:1})}}function qt(i){let e,t;return{c(){e=ue("title"),t=le(i[1])},l(l){e=fe(l,"title",{});var n=v(e);t=ie(n,i[1]),n.forEach(c)},m(l,n){B(l,e,n),_(e,t)},p(l,n){n&2&&we(t,l[1])},d(l){l&&c(e)}}}function vn(i){let e,t,l=i[1]&&qt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=_e(o,n[r]);return{c(){e=ue("svg"),l&&l.c(),t=ue("path"),this.h()},l(r){e=fe(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=v(e);l&&l.l(s),t=fe(s,"path",{d:!0}),v(t).forEach(c),s.forEach(c),this.h()},h(){P(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),ke(e,o)},m(r,s){B(r,e,s),l&&l.m(e,null),_(e,t)},p(r,[s]){r[1]?l?l.p(r,s):(l=qt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),ke(e,o=He(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:G,o:G,d(r){r&&c(e),l&&l.d()}}}function pn(i,e,t){let l,n;const o=["size","title"];let r=Me(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=u=>{t(5,e=_e(_e({},e),Ie(u))),t(3,r=Me(e,o)),"size"in u&&t(0,s=u.size),"title"in u&&t(1,a=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||a),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ie(e),[s,a,n,r,l]}class wn extends Oe{constructor(e){super(),Te(this,e,pn,vn,Ce,{size:0,title:1})}}function yn(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function Yt(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const kn=i=>({item:i&33554434,inputText:i&1}),Ut=i=>({item:i[26],inputText:i[0]});function Kt(i){let e,t;return e=new oi({}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Wt(i){let e,t,l,n,o,r,s,a;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[En,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new ji({props:f}),i[20](t),Xe.push(()=>dt(t,"value",u)),t.$on("select",i[16]),{c(){e=D("div"),ne(t.$$.fragment),this.h()},l(d){e=L(d,"DIV",{class:!0});var h=v(e);oe(t.$$.fragment,h),h.forEach(c),this.h()},h(){P(e,"class","z-50 w-60"),J(e,"absolute",i[12]),J(e,"hidden",!i[14])},m(d,h){B(d,e,h),re(t,e,null),r=!0,s||(a=[Ve(n=Ri.call(null,e,i[22])),Ve(o=yn.call(null,e,{disable:!i[12]}))],s=!0)},p(d,h){const m={};h&16384&&(m.open=d[14]),h&2&&(m.items=d[1]),h&64&&(m.shouldFilterItem=d[6]?d[6]:void 0),h&32&&(m.placeholder=d[5]),h&42074115&&(m.$$scope={dirty:h,ctx:d}),!l&&h&1&&(l=!0,m.value=d[0],ht(()=>l=!1)),t.$set(m),n&&Fe(n.update)&&h&24576&&n.update.call(null,d[22]),o&&Fe(o.update)&&h&4096&&o.update.call(null,{disable:!d[12]}),(!r||h&4096)&&J(e,"absolute",d[12]),(!r||h&16384)&&J(e,"hidden",!d[14])},i(d){r||(k(t.$$.fragment,d),r=!0)},o(d){C(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),ae(t),s=!1,We(a)}}}function Mn(i){let e,t=i[26].text+"",l;return{c(){e=D("div"),l=le(t),this.h()},l(n){e=L(n,"DIV",{class:!0});var o=v(e);l=ie(o,t),o.forEach(c),this.h()},h(){P(e,"class","flex justify-between gap-x-8")},m(n,o){B(n,e,o),_(e,l)},p(n,o){o&33554434&&t!==(t=n[26].text+"")&&we(l,t)},i:G,o:G,d(n){n&&c(e)}}}function In(i){let e;const t=i[18].item,l=$l(t,i,i[23],Ut);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,o){l&&l.m(n,o),e=!0},p(n,o){l&&l.p&&(!e||o&41943043)&&ei(l,t,n,n[23],e?li(t,n[23],o,kn):ti(n[23]),Ut)},i(n){e||(k(l,n),e=!0)},o(n){C(l,n),e=!1},d(n){l&&l.d(n)}}}function En(i){Yt(i);let e,t,l,n;const o=[In,Mn],r=[];function s(a,u){return a[17].item?0:a[26]?1:-1}return~(e=s(i))&&(t=r[e]=o[e](i)),{c(){t&&t.c(),l=De()},l(a){t&&t.l(a),l=De()},m(a,u){~e&&r[e].m(a,u),B(a,l,u),n=!0},p(a,u){Yt(a);let f=e;e=s(a),e===f?~e&&r[e].p(a,u):(t&&(ve(),C(r[f],1,1,()=>{r[f]=null}),pe()),~e?(t=r[e],t?t.p(a,u):(t=r[e]=o[e](a),t.c()),k(t,1),t.m(l.parentNode,l)):t=null)},i(a){n||(k(t),n=!0)},o(a){C(t),n=!1},d(a){~e&&r[e].d(a),a&&c(l)}}}function Pn(i){let e,t,l,n,o,r,s,a,u,f,d,h,m,T=i[7]&&Kt();var U=i[2];function z(E){return{}}U&&(o=lt(U,z()));let V=i[14]&&Wt(i);return{c(){e=D("div"),t=D("div"),l=D("button"),T&&T.c(),n=ee(),o&&ne(o.$$.fragment),r=ee(),s=le(i[3]),f=ee(),V&&V.c(),this.h()},l(E){e=L(E,"DIV",{class:!0});var y=v(e);t=L(y,"DIV",{});var O=v(t);l=L(O,"BUTTON",{class:!0});var w=v(l);T&&T.l(w),n=te(w),o&&oe(o.$$.fragment,w),r=te(w),s=ie(w,i[3]),w.forEach(c),O.forEach(c),f=te(y),V&&V.l(y),y.forEach(c),this.h()},h(){l.disabled=i[9],P(l,"class","flex items-center gap-x-2"),J(l,"opacity-30",i[9]),J(l,"text-red-600",i[11]),J(l,"border",i[4]),J(l,"border-gray-300",i[4]),J(l,"hidden",i[14]),P(e,"class","relative z-50 h-8")},m(E,y){B(E,e,y),_(e,t),_(t,l),T&&T.m(l,null),_(l,n),o&&re(o,l,null),_(l,r),_(l,s),_(e,f),V&&V.m(e,null),d=!0,h||(m=[Re(l,"click",i[15]),Ve(a=Se.call(null,l,{text:i[8]})),Ve(u=Se.call(null,t,{text:i[9]?i[10]:""}))],h=!0)},p(E,[y]){if(E[7]?T?y&128&&k(T,1):(T=Kt(),T.c(),k(T,1),T.m(l,n)):T&&(ve(),C(T,1,1,()=>{T=null}),pe()),y&4&&U!==(U=E[2])){if(o){ve();const O=o;C(O.$$.fragment,1,0,()=>{ae(O,1)}),pe()}U?(o=lt(U,z()),ne(o.$$.fragment),k(o.$$.fragment,1),re(o,l,r)):o=null}(!d||y&8)&&we(s,E[3]),(!d||y&512)&&(l.disabled=E[9]),a&&Fe(a.update)&&y&256&&a.update.call(null,{text:E[8]}),(!d||y&512)&&J(l,"opacity-30",E[9]),(!d||y&2048)&&J(l,"text-red-600",E[11]),(!d||y&16)&&J(l,"border",E[4]),(!d||y&16)&&J(l,"border-gray-300",E[4]),(!d||y&16384)&&J(l,"hidden",E[14]),u&&Fe(u.update)&&y&1536&&u.update.call(null,{text:E[9]?E[10]:""}),E[14]?V?(V.p(E,y),y&16384&&k(V,1)):(V=Wt(E),V.c(),k(V,1),V.m(e,null)):V&&(ve(),C(V,1,1,()=>{V=null}),pe())},i(E){d||(k(T),o&&k(o.$$.fragment,E),k(V),d=!0)},o(E){C(T),o&&C(o.$$.fragment,E),C(V),d=!1},d(E){E&&c(e),T&&T.d(),o&&ae(o),V&&V.d(),h=!1,We(m)}}}function On(i,e,t){let{$$slots:l={},$$scope:n}=e;const o=xl(l);let{items:r}=e,{buttonIcon:s}=e,{buttonText:a=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:h=void 0}=e,{isLoading:m=!1}=e,{helperText:T=""}=e,{disabled:U=!1}=e,{disabledMessage:z=""}=e,{redText:V=!1}=e,{hoist:E=!1}=e;const y=Il();let O,w=!1;function W(){t(14,w=!0),requestAnimationFrame(()=>{O.$set({open:!0})})}function R(b){y("select",b.detail.selectedItem),O.clear(),t(14,w=!1)}const Q=(b,p)=>p.id===b.id;function x(b){Xe[b?"unshift":"push"](()=>{O=b,t(13,O)})}function $(b){f=b,t(0,f)}const F=()=>{O.clear(),t(14,w=!1)};return i.$$set=b=>{"items"in b&&t(1,r=b.items),"buttonIcon"in b&&t(2,s=b.buttonIcon),"buttonText"in b&&t(3,a=b.buttonText),"buttonOutline"in b&&t(4,u=b.buttonOutline),"comboBoxText"in b&&t(0,f=b.comboBoxText),"comboBoxPlaceholder"in b&&t(5,d=b.comboBoxPlaceholder),"shouldFilterItem"in b&&t(6,h=b.shouldFilterItem),"isLoading"in b&&t(7,m=b.isLoading),"helperText"in b&&t(8,T=b.helperText),"disabled"in b&&t(9,U=b.disabled),"disabledMessage"in b&&t(10,z=b.disabledMessage),"redText"in b&&t(11,V=b.redText),"hoist"in b&&t(12,E=b.hoist),"$$scope"in b&&t(23,n=b.$$scope)},[f,r,s,a,u,d,h,m,T,U,z,V,E,O,w,W,R,o,l,Q,x,$,F,n]}class It extends Oe{constructor(e){super(),Te(this,e,On,Pn,Ce,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function Tn(i){let e,t=i[38].text+"",l;return{c(){e=D("div"),l=le(t),this.h()},l(n){e=L(n,"DIV",{class:!0});var o=v(e);l=ie(o,t),o.forEach(c),this.h()},h(){P(e,"class","flex justify-between gap-x-8")},m(n,o){B(n,e,o),_(e,l)},p(n,o){o[1]&128&&t!==(t=n[38].text+"")&&we(l,t)},i:G,o:G,d(n){n&&c(e)}}}function Cn(i){let e,t,l,n,o,r=i[37]+"",s,a;return t=new Fl({}),{c(){e=D("div"),ne(t.$$.fragment),l=ee(),n=D("div"),o=le("New label: "),s=le(r),this.h()},l(u){e=L(u,"DIV",{class:!0});var f=v(e);oe(t.$$.fragment,f),l=te(f),n=L(f,"DIV",{class:!0});var d=v(n);o=ie(d,"New label: "),s=ie(d,r),d.forEach(c),f.forEach(c),this.h()},h(){P(n,"class","ml-2"),P(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){B(u,e,f),re(t,e,null),_(e,l),_(e,n),_(n,o),_(n,s),a=!0},p(u,f){(!a||f[1]&64)&&r!==(r=u[37]+"")&&we(s,r)},i(u){a||(k(t.$$.fragment,u),a=!0)},o(u){C(t.$$.fragment,u),a=!1},d(u){u&&c(e),ae(t)}}}function Vn(i){let e;return{c(){e=D("div")},l(t){e=L(t,"DIV",{}),v(e).forEach(c)},m(t,l){B(t,e,l)},p:G,i:G,o:G,d(t){t&&c(e)}}}function Sn(i){let e,t,l,n;const o=[Vn,Cn,Tn],r=[];function s(a,u){return a[38]==null?0:a[38].id==="new-label"?1:2}return t=s(i),l=r[t]=o[t](i),{c(){e=D("div"),l.c(),this.h()},l(a){e=L(a,"DIV",{slot:!0});var u=v(e);l.l(u),u.forEach(c),this.h()},h(){P(e,"slot","item")},m(a,u){B(a,e,u),r[t].m(e,null),n=!0},p(a,u){let f=t;t=s(a),t===f?r[t].p(a,u):(ve(),C(r[f],1,1,()=>{r[f]=null}),pe(),l=r[t],l?l.p(a,u):(l=r[t]=o[t](a),l.c()),k(l,1),l.m(e,null))},i(a){n||(k(l),n=!0)},o(a){C(l),n=!1},d(a){a&&c(e),r[t].d()}}}function Dn(i){var a;let e,t,l,n,o=((a=i[5])==null?void 0:a.toLocaleString())+"",r,s;return{c(){e=le("Add label "),t=D("span"),l=le(i[8]),n=le(" to "),r=le(o),s=le(`
      rows?`),this.h()},l(u){e=ie(u,"Add label "),t=L(u,"SPAN",{class:!0});var f=v(t);l=ie(f,i[8]),f.forEach(c),n=ie(u," to "),r=ie(u,o),s=ie(u,`
      rows?`),this.h()},h(){P(t,"class","font-mono font-bold")},m(u,f){B(u,e,f),B(u,t,f),_(t,l),B(u,n,f),B(u,r,f),B(u,s,f)},p(u,f){var d;f[0]&256&&we(l,u[8]),f[0]&32&&o!==(o=((d=u[5])==null?void 0:d.toLocaleString())+"")&&we(r,o)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(s)}}}function Ln(i){var a;let e,t,l,n,o=((a=i[5])==null?void 0:a.toLocaleString())+"",r,s;return{c(){e=le("Remove label "),t=D("span"),l=le(i[8]),n=le(" from "),r=le(o),s=le(`
      rows?`),this.h()},l(u){e=ie(u,"Remove label "),t=L(u,"SPAN",{class:!0});var f=v(t);l=ie(f,i[8]),f.forEach(c),n=ie(u," from "),r=ie(u,o),s=ie(u,`
      rows?`),this.h()},h(){P(t,"class","font-mono font-bold")},m(u,f){B(u,e,f),B(u,t,f),_(t,l),B(u,n,f),B(u,r,f),B(u,s,f)},p(u,f){var d;f[0]&256&&we(l,u[8]),f[0]&32&&o!==(o=((d=u[5])==null?void 0:d.toLocaleString())+"")&&we(r,o)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(s)}}}function An(i){let e;function t(o,r){return o[4]?Ln:Dn}let l=t(i),n=l(i);return{c(){e=D("p"),n.c()},l(o){e=L(o,"P",{});var r=v(e);n.l(r),r.forEach(c)},m(o,r){B(o,e,r),n.m(e,null)},p(o,r){l===(l=t(o))&&n?n.p(o,r):(n.d(1),n=l(o),n&&(n.c(),n.m(e,null)))},d(o){o&&c(e),n.d()}}}function Nn(i){let e,t,l,n,o;function r(a){i[32](a)}let s={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:zn,$$slots:{item:[Sn,({inputText:a,item:u})=>({37:a,38:u}),({inputText:a,item:u})=>[0,(a?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(s.comboBoxText=i[6]),e=new It({props:s}),Xe.push(()=>dt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new Si({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[An]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){Fe(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){ne(e.$$.fragment),l=ee(),ne(n.$$.fragment)},l(a){oe(e.$$.fragment,a),l=te(a),oe(n.$$.fragment,a)},m(a,u){re(e,a,u),B(a,l,u),re(n,a,u),o=!0},p(a,u){i=a;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],ht(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(a){o||(k(e.$$.fragment,a),k(n.$$.fragment,a),o=!0)},o(a){C(e.$$.fragment,a),C(n.$$.fragment,a),o=!1},d(a){ae(e,a),a&&c(l),ae(n,a)}}}const zn=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function Bn(i,e,t){let l,n,o,r,s,a,u,f,d,h,m,T,U,z,V,E=G,y=()=>(E(),E=Ne(T,Y=>t(27,V=Y)),T),O,w=G,W=()=>(w(),w=Ne(m,Y=>t(28,O=Y)),m),R,Q=G,x=()=>(Q(),Q=Ne(l,Y=>t(29,R=Y)),l),$,F;i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>w()),i.$$.on_destroy.push(()=>Q());let{labelsQuery:b}=e,{hideLabels:p=void 0}=e,{helperText:A="Add label"}=e,{disabled:N=!1}=e,{disabledMessage:S="User does not have access to add labels."}=e,{icon:j}=e,{remove:X=!1}=e,{totalNumRows:ge=void 0}=e;const se=Il();let ce="",K=null;const he=Hl(),g=_t();Ye(i,g,Y=>t(31,F=Y));const M=Cl();Ye(i,M,Y=>t(30,$=Y));function q(){if(K==null)return;const Y={...b,label_name:K};function I(Z){return Y.row_ids!=null?`Document id: ${Y.row_ids}`:`${Z.toLocaleString()} rows updated`}X?V.mutate([n,o,Y],{onSuccess:Z=>{he.addNotification({kind:"success",title:`Removed label "${Y.label_name}"`,message:I(Z)})}}):O.mutate([n,o,Y],{onSuccess:Z=>{he.addNotification({kind:"success",title:`Added label "${Y.label_name}"`,message:I(Z)})}}),t(8,K=null)}function H(Y){t(8,K=Y.detail.text),ge==null&&q()}function be(Y){ce=Y,t(6,ce)}const de=()=>{t(8,K=null),se("close")};return i.$$set=Y=>{"labelsQuery"in Y&&t(20,b=Y.labelsQuery),"hideLabels"in Y&&t(21,p=Y.hideLabels),"helperText"in Y&&t(0,A=Y.helperText),"disabled"in Y&&t(1,N=Y.disabled),"disabledMessage"in Y&&t(2,S=Y.disabledMessage),"icon"in Y&&t(3,j=Y.icon),"remove"in Y&&t(4,X=Y.remove),"totalNumRows"in Y&&t(5,ge=Y.totalNumRows)},i.$$.update=()=>{var Y,I;i.$$.dirty[1]&1&&x(t(14,l=gt(F.namespace,F.datasetName))),i.$$.dirty[1]&1&&(n=F.namespace),i.$$.dirty[1]&1&&(o=F.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(Y=$.data)==null?void 0:Y.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,s=(I=$.data)==null?void 0:I.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,a=R.data&&Dl(R.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(ce)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:ce,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(a==null?void 0:a.filter(Z=>!(p||[]).includes(Z)).map((Z,Ee)=>({id:`label_${Ee}`,text:Z})))||[]),i.$$.dirty[0]&12582992&&t(13,h=[...ce!=""&&!X?[f]:[],...d]),i.$$.dirty[0]&536870912&&W(t(12,m=R.data!=null?Vl(R.data):null)),i.$$.dirty[0]&536870912&&y(t(11,T=R.data!=null?Sl(R.data):null)),i.$$.dirty[0]&402653184&&t(10,U=(O==null?void 0:O.isLoading)||(V==null?void 0:V.isLoading)),i.$$.dirty[0]&130&&t(9,z=N||!s)},[A,N,S,j,X,ge,ce,s,K,z,U,T,m,h,l,se,g,M,q,H,b,p,d,f,a,u,r,V,O,R,$,F,be,de]}class Rn extends Oe{constructor(e){super(),Te(this,e,Bn,Nn,Ce,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function Hn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Gt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function Zt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gt(Object(t),!0).forEach(function(l){Hn(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Gt(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Fn(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,o;for(o=0;o<l.length;o++)n=l[o],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function jn(i,e){if(i==null)return{};var t=Fn(i,e),l,n;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(n=0;n<o.length;n++)l=o[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function qn(i,e){return Yn(i)||Un(i,e)||Kn(i,e)||Wn()}function Yn(i){if(Array.isArray(i))return i}function Un(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,o=void 0;try{for(var r=i[Symbol.iterator](),s;!(l=(s=r.next()).done)&&(t.push(s.value),!(e&&t.length===e));l=!0);}catch(a){n=!0,o=a}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw o}}return t}}function Kn(i,e){if(i){if(typeof i=="string")return Qt(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qt(i,e)}}function Qt(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function Wn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gn(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Xt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function Jt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Xt(Object(t),!0).forEach(function(l){Gn(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Xt(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Zn(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,o){return o(n)},l)}}function it(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e.apply(t,[].concat(n,s))}}}function ct(i){return{}.toString.call(i).includes("Object")}function Qn(i){return!Object.keys(i).length}function nt(i){return typeof i=="function"}function Xn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Jn(i,e){return ct(e)||Ke("changeType"),Object.keys(e).some(function(t){return!Xn(i,t)})&&Ke("changeField"),e}function xn(i){nt(i)||Ke("selectorType")}function $n(i){nt(i)||ct(i)||Ke("handlerType"),ct(i)&&Object.values(i).some(function(e){return!nt(e)})&&Ke("handlersType")}function er(i){i||Ke("initialIsRequired"),ct(i)||Ke("initialType"),Qn(i)&&Ke("initialContent")}function tr(i,e){throw new Error(i[e]||i.default)}var lr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ke=it(tr)(lr),ut={changes:Jn,selector:xn,handler:$n,initial:er};function ir(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ut.initial(i),ut.handler(e);var t={current:i},l=it(ar)(t,e),n=it(rr)(t),o=it(ut.changes)(i),r=it(nr)(t);function s(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return ut.selector(u),u(t.current)}function a(u){Zn(l,n,o,r)(u)}return[s,a]}function nr(i,e){return nt(e)?e(i.current):e}function rr(i,e){return i.current=Jt(Jt({},i.current),e),e}function ar(i,e,t){return nt(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var or={create:ir},sr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function ur(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e.apply(t,[].concat(n,s))}}}function fr(i){return{}.toString.call(i).includes("Object")}function cr(i){return i||xt("configIsRequired"),fr(i)||xt("configType"),i.urls?(dr(),{paths:{vs:i.urls.monacoBase}}):i}function dr(){console.warn(jl.deprecation)}function hr(i,e){throw new Error(i[e]||i.default)}var jl={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},xt=ur(hr)(jl),mr={config:cr},_r=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(o,r){return r(o)},n)}};function ql(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],ql(i[t],e[t]))}),Zt(Zt({},i),e)}var gr={type:"cancelation",msg:"operation is manually canceled"};function wt(i){var e=!1,t=new Promise(function(l,n){i.then(function(o){return e?n(gr):l(o)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var br=or.create({config:sr,isInitialized:!1,resolve:null,reject:null,monaco:null}),Yl=qn(br,2),rt=Yl[0],bt=Yl[1];function vr(i){var e=mr.config(i),t=e.monaco,l=jn(e,["monaco"]);bt(function(n){return{config:ql(n.config,l),monaco:t}})}function pr(){var i=rt(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(bt({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),wt(yt);if(window.monaco&&window.monaco.editor)return Ul(window.monaco),i.resolve(window.monaco),wt(yt);_r(wr,kr)(Mr)}return wt(yt)}function wr(i){return document.body.appendChild(i)}function yr(i){var e=document.createElement("script");return i&&(e.src=i),e}function kr(i){var e=rt(function(l){var n=l.config,o=l.reject;return{config:n,reject:o}}),t=yr("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function Mr(){var i=rt(function(t){var l=t.config,n=t.resolve,o=t.reject;return{config:l,resolve:n,reject:o}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){Ul(t),i.resolve(t)},function(t){i.reject(t)})}function Ul(i){rt().monaco||bt({monaco:i})}function Ir(){return rt(function(i){var e=i.monaco;return e})}var yt=new Promise(function(i,e){return bt({resolve:i,reject:e})}),$t={config:vr,init:pr,__getMonacoInstance:Ir};const el=360,Er=720;let ft;const Kl={fontFamily:"inconsolata variable",fontSize:14,readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",lineDecorationsWidth:0,folding:!1,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8,alwaysConsumeMouseWheel:!1},fixedOverflowWidgets:!0,language:"text/plain",automaticLayout:!0};async function Wl(){return ft!=null||(ft=zi(()=>import("./editor.main.79be0ff6.js").then(i=>i.e),["./editor.main.79be0ff6.js","./preload-helper.a4192956.js","../assets/editor.e45e964a.css"],import.meta.url).then(async i=>($t.config({monaco:i.default}),$t.init()))),ft}function Pr(i){let e,t,l,n=$e(i[2])+"",o,r,s,a=$e(i[1])+"",u,f,d,h,m,T,U,z,V,E;return m=new dn({}),{c(){e=D("div"),t=D("div"),l=D("div"),o=le(n),r=ee(),s=D("div"),u=le(a),f=ee(),d=D("div"),h=D("button"),ne(m.$$.fragment),T=ee(),U=D("div"),this.h()},l(y){e=L(y,"DIV",{class:!0});var O=v(e);t=L(O,"DIV",{class:!0});var w=v(t);l=L(w,"DIV",{class:!0});var W=v(l);o=ie(W,n),W.forEach(c),r=te(w),s=L(w,"DIV",{class:!0});var R=v(s);u=ie(R,a),R.forEach(c),f=te(w),d=L(w,"DIV",{});var Q=v(d);h=L(Q,"BUTTON",{class:!0});var x=v(h);oe(m.$$.fragment,x),x.forEach(c),Q.forEach(c),w.forEach(c),T=te(O),U=L(O,"DIV",{class:!0}),v(U).forEach(c),O.forEach(c),this.h()},h(){P(l,"class","ml-8 w-1/2"),P(s,"class","ml-8 w-1/2"),P(h,"class","-mr-1 mb-1 flex flex-row"),P(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),P(U,"class","editor-container svelte-15hppq8"),P(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(y,O){B(y,e,O),_(e,t),_(t,l),_(l,o),_(t,r),_(t,s),_(s,u),_(t,f),_(t,d),_(d,h),re(m,h,null),_(e,T),_(e,U),i[13](U),z=!0,V||(E=[Re(h,"click",i[12]),Ve(Se.call(null,h,{text:"Swap comparison order"}))],V=!0)},p(y,[O]){(!z||O&4)&&n!==(n=$e(y[2])+"")&&we(o,n),(!z||O&2)&&a!==(a=$e(y[1])+"")&&we(u,a)},i(y){z||(k(m.$$.fragment,y),z=!0)},o(y){C(m.$$.fragment,y),z=!1},d(y){y&&c(e),ae(m),i[13](null),V=!1,We(E)}}}const tl=360,Or=720;function Tr(i,e,t){let l,n,o,r;const s=_t();let{row:a}=e,{colCompareState:u}=e,{textIsOverBudget:f}=e,{isExpanded:d}=e,h,m,T;function U(){var E,y;if(T!=null&&((E=T.getModel())==null?void 0:E.original)!=null&&((y=T.getModel())==null?void 0:y.modified)!=null){const O=Math.max(T.getOriginalEditor().getContentHeight(),T.getModifiedEditor().getContentHeight());t(5,f=O>tl),d||!f?t(3,h.style.height=`${Math.min(O,Or)}px`,h):t(3,h.style.height=tl+"px",h),T.layout()}}El(async()=>{t(8,m=await Wl()),t(9,T=m.editor.createDiffEditor(h,{...Kl,glyphMargin:!0,lineNumbersMinChars:3,lineNumbers:"on"})),T.onDidChangeModel(()=>{U()})}),Pl(()=>{var E,y;(E=T.getModel())==null||E.modified.dispose(),(y=T.getModel())==null||y.original.dispose(),T==null||T.dispose()});const z=()=>s.swapCompareColumn((u==null?void 0:u.column)||[]);function V(E){Xe[E?"unshift":"push"](()=>{h=E,t(3,h)})}return i.$$set=E=>{"row"in E&&t(6,a=E.row),"colCompareState"in E&&t(0,u=E.colCompareState),"textIsOverBudget"in E&&t(5,f=E.textIsOverBudget),"isExpanded"in E&&t(7,d=E.isExpanded)},i.$$.update=()=>{i.$$.dirty&1&&t(2,l=u.swapDirection?u.compareToColumn:u.column),i.$$.dirty&1&&t(1,n=u.swapDirection?u.column:u.compareToColumn),i.$$.dirty&68&&t(11,o=qe.value(tt(a,l)[0])),i.$$.dirty&66&&t(10,r=qe.value(tt(a,n)[0])),i.$$.dirty&192&&(d!=null||a!=null)&&U(),i.$$.dirty&3840&&T!=null&&o!=null&&r!=null&&(T.setModel({original:m.editor.createModel(o,"text/plain"),modified:m.editor.createModel(r,"text/plain")}),U())},[u,n,l,h,s,f,a,d,m,T,r,o,z,V]}class Cr extends Oe{constructor(e){super(),Te(this,e,Tr,Pr,Ce,{row:6,colCompareState:0,textIsOverBudget:5,isExpanded:7})}}function Vr(i){let e,t;return{c(){e=D("div"),t=D("div"),this.h()},l(l){e=L(l,"DIV",{class:!0});var n=v(e);t=L(n,"DIV",{class:!0}),v(t).forEach(c),n.forEach(c),this.h()},h(){P(t,"class","editor-container ml-6 h-64"),J(t,"hidden",i[0]),J(t,"invisible",!i[2]),P(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(l,n){B(l,e,n),_(e,t),i[29](t)},p(l,n){n[0]&1&&J(t,"hidden",l[0]),n[0]&4&&J(t,"invisible",!l[2])},i:G,o:G,d(l){l&&c(e),i[29](null)}}}function ll(i){return i.length>40?i.slice(0,40)+"...":i}function kt(i,e){return`add-to-concept-${i}-${e}`}function Sr(i,e,t){let l,n,o,r,s=G,a=()=>(s(),s=Ne(E,g=>t(28,r=g)),E),u;i.$$.on_destroy.push(()=>s());let{text:f}=e,{row:d}=e,{field:h=void 0}=e,{spanPaths:m}=e,{path:T=void 0}=e,{hidden:U}=e,{spanValueInfos:z}=e,{embeddings:V}=e,{datasetViewStore:E=void 0}=e;a();let{isExpanded:y=!1}=e,{textIsOverBudget:O=!1}=e,{viewType:w=void 0}=e,W,R=!1,Q={};const x=si();Ye(i,x,g=>t(30,u=g));const $=(g,M,q,H)=>{if(!M||!g)throw Error("Label could not be added, no active concept.");u.mutate([g,M,{insert:[{text:q,label:H}]}])};let F,b,p=null,A=null;function N(){if(p!=null&&p.getModel()!=null){const g=p.getContentHeight();t(6,O=g>el),y||!O?t(3,F.style.height=`${Math.min(g,Er)}px`,F):t(3,F.style.height=el+"px",F),p.layout()}}El(async()=>{t(18,b=await Wl()),t(19,p=b.editor.create(F,{...Kl,lineNumbers:"on",glyphMargin:!0,lineNumbersMinChars:3,minimap:{enabled:!0,side:"right",scale:2}})),t(20,A=b.editor.createModel("","text/plain")),p.setModel(A),document.fonts.ready.then(()=>{b.editor.remeasureFonts(),t(2,R=!0)})});function S(g){if(A==null)return[];const M=g.namedValue,q=M.info.name;if(g.isConceptSearch){const H=M.info.signal,be=window.location.origin+ci(H.namespace,H.concept_name),de=M.value.toFixed(2);return[{value:`**concept** <a href="${be}">${q}</a> (${de})`,supportHtml:!0,isTrusted:!0},{value:g.text,supportHtml:!1,isTrusted:!1}]}else if(g.isSemanticSearch){const H=M.info.signal,be=M.value.toFixed(2);return[{value:`**more like this** *${ll(H.query)}*`,supportHtml:!0,isTrusted:!0},{value:`similarity: ${be}`,supportHtml:!0,isTrusted:!0},{value:g.text,supportHtml:!1,isTrusted:!1}]}else if(g.isKeywordSearch){const H=M.info.signal;return[{value:`**keyword search** *${ll(H.query)}*`,supportHtml:!0,isTrusted:!0},{value:g.text,supportHtml:!1,isTrusted:!1}]}else if(g.isLeafSpan)return[{value:`**span** *${Qe(M.info.path)}*`,supportHtml:!0,isTrusted:!0},...M.value!=null?[{value:`value: *${M.value}*`,supportHtml:!1,isTrusted:!1}]:[],{value:g.text,supportHtml:!1,isTrusted:!1}];return[]}function j(){if(p==null)return null;const g=p.getSelection();return g==null?null:A.getValueInRange(g)}let X={};const ge=E!=null?Bi(E,g=>{if(g.selection==null)return null;const[M,q]=g.selection;return Ae(M,T)?q:null}):null;Ye(i,ge,g=>t(27,o=g));let se=[],ce=[],K=[];Pl(()=>{A==null||A.dispose(),p==null||p.dispose()});function he(g){Xe[g?"unshift":"push"](()=>{F=g,t(3,F)})}return i.$$set=g=>{"text"in g&&t(7,f=g.text),"row"in g&&t(8,d=g.row),"field"in g&&t(9,h=g.field),"spanPaths"in g&&t(10,m=g.spanPaths),"path"in g&&t(11,T=g.path),"hidden"in g&&t(0,U=g.hidden),"spanValueInfos"in g&&t(12,z=g.spanValueInfos),"embeddings"in g&&t(13,V=g.embeddings),"datasetViewStore"in g&&a(t(1,E=g.datasetViewStore)),"isExpanded"in g&&t(14,y=g.isExpanded),"textIsOverBudget"in g&&t(6,O=g.textIsOverBudget),"viewType"in g&&t(15,w=g.viewType)},i.$$.update=()=>{if(i.$$.dirty[0]&3328&&(t(16,W={}),m.forEach(g=>{let M=tt(d,g);ui(g,T)&&(M=M.filter(H=>fi(qe.path(H),T)||T==null)),t(16,W[Qe(g)]=M,W)})),i.$$.dirty[0]&135168){t(17,Q={});for(const g of z){const M=Qe(g.spanPath);Q[M]==null&&t(17,Q[M]=[],Q),Q[M].push(g)}}if(i.$$.dirty[0]&16640&&(y!=null||d!=null)&&N(),i.$$.dirty[0]&1048704&&A!=null&&f!=null&&(A.setValue(f),N()),i.$$.dirty[0]&196736&&t(25,l=Hi(f,W,Q)),i.$$.dirty[0]&35127296&&A!=null&&p!=null){let g=null;for(const M of l){const q=qe.span(M.span),H=A.getPositionAt(q.start);(g==null||H.lineNumber<g.lineNumber)&&(g=H)}g!=null&&p.revealPositionNearTop(g)}if(i.$$.dirty[0]&268435456&&t(26,n=r!=null?di(r,null):null),i.$$.dirty[0]&69730304&&p!=null){for(const g of Object.values(X))g.set(!1);for(const g of n||[]){if(g.type!="concept")continue;const M=kt(g.concept_namespace,g.concept_name);if(X[M]==null){const q=p.createContextKey(M,!0);t(21,X[M]=q,X)}else X[M].set(!0)}}if(i.$$.dirty[0]&67633152&&p!=null&&n!=null){for(const g of n)if(g.type=="concept"){const M=`add-positive-to-concept-${g.concept_name}`;if(p.getAction(M)!=null)continue;p.addAction({id:M,label:`ðŸ‘ add as positive to concept "${g.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:kt(g.concept_namespace,g.concept_name),run:()=>{const q=j();if(q==null)return;const H=!0;$(g.concept_namespace,g.concept_name,q,H)}}),p.addAction({id:"add-negative-to-concept",label:`ðŸ‘Ž add as negative to concept "${g.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:kt(g.concept_namespace,g.concept_name),run:()=>{const q=j();if(q==null)return;const H=!1;$(g.concept_namespace,g.concept_name,q,H)}})}}if(i.$$.dirty[0]&532994&&p!=null&&V!=null){for(const M of V){const q=`find-similar-${M}`;p.getAction(q)==null&&p.addAction({id:q,label:"ðŸ” More like this"+(V.length>1?` with ${M}`:""),contextMenuGroupId:"navigation_searches",run:()=>{if(E==null||h==null)return;const H=j();H!=null&&E.addSearch({path:h.path,type:"semantic",query_type:"document",query:H,embedding:M})}})}const g="keyword-search";p.getAction(g)==null&&p.addAction({id:g,label:"ðŸ” Keyword search",contextMenuGroupId:"navigation_searches",run:()=>{if(E==null||h==null)return;const M=j();M!=null&&E.addSearch({path:h.path,type:"keyword",query:M})}})}if(i.$$.dirty[0]&35389440&&p!=null&&A!=null&&t(22,se=l.flatMap(g=>{if(A==null)return[];const M=qe.span(g.span),q=A.getPositionAt(M.start),H=A.getPositionAt(M.end);if(q==null||H==null)return[];const be=[],de=S(g),Y=new b.Range(q.lineNumber,q.column,H.lineNumber,H.column);return g.isKeywordSearch?be.push({range:Y,options:{className:"keyword-search-bg",inlineClassName:"keyword-search-text",hoverMessage:de,glyphMarginClassName:"keyword-search-glyph",glyphMarginHoverMessage:de,isWholeLine:!1,minimap:{position:b.editor.MinimapPosition.Inline,color:"#888888"}}}):g.isConceptSearch?be.push({range:Y,options:{className:"concept-search-bg",inlineClassName:"concept-search-text",hoverMessage:de,glyphMarginClassName:"concept-search-bg",glyphMarginHoverMessage:de,isWholeLine:!1,minimap:{position:b.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):g.isSemanticSearch?be.push({range:Y,options:{className:"semantic-search-bg",inlineClassName:"semantic-search-text",hoverMessage:de,glyphMarginClassName:"semantic-search-bg",glyphMarginHoverMessage:de,isWholeLine:!1,minimap:{position:b.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):g.isLeafSpan&&be.push({range:Y,options:{className:"leaf-bg",inlineClassName:"leaf-text",hoverMessage:de,glyphMarginClassName:"leaf-glyph",glyphMarginHoverMessage:de,isWholeLine:!1,minimap:{position:b.editor.MinimapPosition.Inline,color:"#888888"}}}),be})),i.$$.dirty[0]&144441344&&p!=null&&A!=null&&ge!=null&&o!=null&&(t(23,ce=[]),o.startLine==o.endLine&&o.startCol==o.endCol?ce.push({range:new b.Range(o.startLine,o.startCol,o.endLine,o.endCol||A.getLineMaxColumn(o.startLine)),options:{isWholeLine:!0,className:"line-selection-bg",glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"ðŸ”— From the URL"}}}):ce.push({range:new b.Range(o.startLine,o.startCol,o.endLine,o.endCol),options:{className:"line-col-selection-bg",hoverMessage:[{value:"ðŸ”— From the URL"}],glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"ðŸ”— From the URL"},minimap:{position:b.editor.MinimapPosition.Inline,color:"#cccccc"}}}),p.revealLineInCenter(o.startLine)),i.$$.dirty[0]&1870338&&A!=null&&p!=null&&w!=null&&T!=null){const g="link-selection";p.getAction(g)==null&&p.addAction({id:g,label:"ðŸ”— Link to selection",contextMenuGroupId:"navigation_links",keybindings:[b.KeyMod.CtrlCmd|b.KeyCode.KeyK],run:()=>{if(E==null||T==null||h==null||p==null)return;const M=p.getSelection();M!=null&&(E.setTextSelection(T,{startLine:M.startLineNumber,endLine:M.endLineNumber,startCol:M.startColumn,endCol:M.endColumn}),p.setSelection(M))}})}i.$$.dirty[0]&134217728&&o==null&&t(23,ce=[]),i.$$.dirty[0]&29884416&&p!=null&&t(24,K=p.deltaDecorations(K,[...se,...ce]))},[U,E,R,F,x,ge,O,f,d,h,m,T,z,V,y,w,W,Q,b,p,A,X,se,ce,K,l,n,o,r,he]}class Dr extends Oe{constructor(e){super(),Te(this,e,Sr,Vr,Ce,{text:7,row:8,field:9,spanPaths:10,path:11,hidden:0,spanValueInfos:12,embeddings:13,datasetViewStore:1,isExpanded:14,textIsOverBudget:6,viewType:15},null,[-1,-1])}}function il(i,e,t){const l=i.slice();return l[50]=e[t],l}function Lr(i){let e,t,l,n,o,r,s=i[21],a=[];for(let f=0;f<s.length;f+=1)a[f]=nl(il(i,s,f));const u=f=>C(a[f],1,1,()=>{a[f]=null});return{c(){e=D("div"),t=D("div"),l=D("div"),n=le(i[20]),o=ee();for(let f=0;f<a.length;f+=1)a[f].c();this.h()},l(f){e=L(f,"DIV",{class:!0});var d=v(e);t=L(d,"DIV",{class:!0});var h=v(t);l=L(h,"DIV",{title:!0,class:!0});var m=v(l);n=ie(m,i[20]),m.forEach(c),o=te(h);for(let T=0;T<a.length;T+=1)a[T].l(h);h.forEach(c),d.forEach(c),this.h()},h(){P(l,"title",i[20]),P(l,"class","mx-2 mt-2 truncate font-mono font-medium text-neutral-500"),P(t,"class","m-2 flex flex-col gap-y-2"),P(e,"class","my-2 flex w-full flex-col rounded border border-neutral-200")},m(f,d){B(f,e,d),_(e,t),_(t,l),_(l,n),_(t,o);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(t,null);r=!0},p(f,d){if((!r||d[0]&1048576)&&we(n,f[20]),(!r||d[0]&1048576)&&P(l,"title",f[20]),d[0]&2097182){s=f[21];let h;for(h=0;h<s.length;h+=1){const m=il(f,s,h);a[h]?(a[h].p(m,d),k(a[h],1)):(a[h]=nl(m),a[h].c(),k(a[h],1),a[h].m(t,null))}for(ve(),h=s.length;h<a.length;h+=1)u(h);pe()}},i(f){if(!r){for(let d=0;d<s.length;d+=1)k(a[d]);r=!0}},o(f){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)C(a[d]);r=!1},d(f){f&&c(e),mt(a,f)}}}function Ar(i){let e,t,l,n,o,r,s,a,u,f,d,h,m,T,U,z,V,E,y,O,w,W,R,Q,x,$,F,b,p,A,N,S,j=i[20]!=""&&i[16]==null&&rl(i);s=new Ni({props:{size:16}});const X=[zr,Nr],ge=[];function se(I,Z){return I[10]?0:1}d=se(i),h=ge[d]=X[d](i);const ce=[Rr,Br],K=[];function he(I,Z){return I[9]?1:0}z=he(i),V=K[z]=ce[z](i);const g=[Fr,Hr],M=[];function q(I,Z){return I[8]?0:1}O=q(i),w=M[O]=g[O](i);let H=i[16]!=null&&al(i);const be=[qr,jr],de=[];function Y(I,Z){return I[2]!=null?0:1}return b=Y(i),p=de[b]=be[b](i),{c(){e=D("div"),t=D("div"),j&&j.c(),l=ee(),n=D("div"),o=D("div"),r=D("button"),ne(s.$$.fragment),u=ee(),f=D("button"),h.c(),U=ee(),V.c(),E=ee(),y=D("button"),w.c(),Q=ee(),x=D("div"),H&&H.c(),$=ee(),F=D("div"),p.c(),this.h()},l(I){e=L(I,"DIV",{class:!0});var Z=v(e);t=L(Z,"DIV",{class:!0});var Ee=v(t);j&&j.l(Ee),l=te(Ee),n=L(Ee,"DIV",{class:!0});var Pe=v(n);o=L(Pe,"DIV",{});var Le=v(o);r=L(Le,"BUTTON",{});var ze=v(r);oe(s.$$.fragment,ze),ze.forEach(c),Le.forEach(c),u=te(Pe),f=L(Pe,"BUTTON",{});var Ge=v(f);h.l(Ge),Ge.forEach(c),U=te(Pe),V.l(Pe),E=te(Pe),y=L(Pe,"BUTTON",{});var at=v(y);w.l(at),at.forEach(c),Pe.forEach(c),Ee.forEach(c),Z.forEach(c),Q=te(I),x=L(I,"DIV",{class:!0});var Je=v(x);H&&H.l(Je),$=te(Je),F=L(Je,"DIV",{class:!0});var ot=v(F);p.l(ot),ot.forEach(c),Je.forEach(c),this.h()},h(){r.disabled=i[13],J(o,"opacity-50",i[13]),f.disabled=m=i[9]!=null,J(f,"opacity-50",i[9]!=null),y.disabled=W=!i[7],J(y,"opacity-50",!i[7]),P(n,"class","flex flex-row gap-x-1"),P(t,"class","sticky top-0 flex w-full flex-col gap-y-2 self-start"),P(e,"class","relative mr-4 flex w-32 shrink-0 flex-row font-mono font-medium text-neutral-500 md:w-44"),P(F,"class","grow pt-1"),P(x,"class","flex grow flex-col font-normal")},m(I,Z){B(I,e,Z),_(e,t),j&&j.m(t,null),_(t,l),_(t,n),_(n,o),_(o,r),re(s,r,null),_(n,u),_(n,f),ge[d].m(f,null),_(n,U),K[z].m(n,null),_(n,E),_(n,y),M[O].m(y,null),B(I,Q,Z),B(I,x,Z),H&&H.m(x,null),_(x,$),_(x,F),de[b].m(F,null),A=!0,N||(S=[Re(r,"click",i[42]),Ve(Se.call(null,r,{text:"More like this"})),Ve(a=Se.call(null,o,{text:i[13]?'"More like this" requires an embedding index':void 0})),Re(f,"click",i[43]),Ve(T=Se.call(null,f,{text:i[10]?"Back to text":"Preview markdown"})),Re(y,"click",i[45]),Ve(R=Se.call(null,y,{text:i[8]?"Collapse text":"Expand text"}))],N=!0)},p(I,Z){I[20]!=""&&I[16]==null?j?j.p(I,Z):(j=rl(I),j.c(),j.m(t,l)):j&&(j.d(1),j=null),(!A||Z[0]&8192)&&(r.disabled=I[13]),a&&Fe(a.update)&&Z[0]&8192&&a.update.call(null,{text:I[13]?'"More like this" requires an embedding index':void 0}),(!A||Z[0]&8192)&&J(o,"opacity-50",I[13]);let Ee=d;d=se(I),d!==Ee&&(ve(),C(ge[Ee],1,1,()=>{ge[Ee]=null}),pe(),h=ge[d],h||(h=ge[d]=X[d](I),h.c()),k(h,1),h.m(f,null)),(!A||Z[0]&512&&m!==(m=I[9]!=null))&&(f.disabled=m),T&&Fe(T.update)&&Z[0]&1024&&T.update.call(null,{text:I[10]?"Back to text":"Preview markdown"}),(!A||Z[0]&512)&&J(f,"opacity-50",I[9]!=null);let Pe=z;z=he(I),z===Pe?K[z].p(I,Z):(ve(),C(K[Pe],1,1,()=>{K[Pe]=null}),pe(),V=K[z],V?V.p(I,Z):(V=K[z]=ce[z](I),V.c()),k(V,1),V.m(n,E));let Le=O;O=q(I),O!==Le&&(ve(),C(M[Le],1,1,()=>{M[Le]=null}),pe(),w=M[O],w||(w=M[O]=g[O](I),w.c()),k(w,1),w.m(y,null)),(!A||Z[0]&128&&W!==(W=!I[7]))&&(y.disabled=W),R&&Fe(R.update)&&Z[0]&256&&R.update.call(null,{text:I[8]?"Collapse text":"Expand text"}),(!A||Z[0]&128)&&J(y,"opacity-50",!I[7]),I[16]!=null?H?H.p(I,Z):(H=al(I),H.c(),H.m(x,$)):H&&(H.d(1),H=null);let ze=b;b=Y(I),b===ze?de[b].p(I,Z):(ve(),C(de[ze],1,1,()=>{de[ze]=null}),pe(),p=de[b],p?p.p(I,Z):(p=de[b]=be[b](I),p.c()),k(p,1),p.m(F,null))},i(I){A||(k(s.$$.fragment,I),k(h),k(V),k(w),k(p),A=!0)},o(I){C(s.$$.fragment,I),C(h),C(V),C(w),C(p),A=!1},d(I){I&&c(e),j&&j.d(),ae(s),ge[d].d(),K[z].d(),M[O].d(),I&&c(Q),I&&c(x),H&&H.d(),de[b].d(),N=!1,We(S)}}}function nl(i){let e,t,l,n;return t=new Gl({props:{rootPath:i[50].rootPath,showPath:i[50].showPath,row:i[2],field:i[3],highlightedFields:i[4],mediaPath:i[1]}}),{c(){e=D("div"),ne(t.$$.fragment),l=ee(),this.h()},l(o){e=L(o,"DIV",{class:!0});var r=v(e);oe(t.$$.fragment,r),l=te(r),r.forEach(c),this.h()},h(){P(e,"class","m-2 rounded border border-neutral-100")},m(o,r){B(o,e,r),re(t,e,null),_(e,l),n=!0},p(o,r){const s={};r[0]&2097152&&(s.rootPath=o[50].rootPath),r[0]&2097152&&(s.showPath=o[50].showPath),r[0]&4&&(s.row=o[2]),r[0]&8&&(s.field=o[3]),r[0]&16&&(s.highlightedFields=o[4]),r[0]&2&&(s.mediaPath=o[1]),t.$set(s)},i(o){n||(k(t.$$.fragment,o),n=!0)},o(o){C(t.$$.fragment,o),n=!1},d(o){o&&c(e),ae(t)}}}function rl(i){let e,t;return{c(){e=D("div"),t=le(i[20]),this.h()},l(l){e=L(l,"DIV",{title:!0,class:!0});var n=v(e);t=ie(n,i[20]),n.forEach(c),this.h()},h(){P(e,"title",i[20]),P(e,"class","mx-2 mt-2 w-full flex-initial truncate")},m(l,n){B(l,e,n),_(e,t)},p(l,n){n[0]&1048576&&we(t,l[20]),n[0]&1048576&&P(e,"title",l[20])},d(l){l&&c(e)}}}function Nr(i){let e,t;return e=new ln({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function zr(i){let e,t;return e=new $i({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Br(i){let e,t,l,n,o;return t=new wn({props:{size:16}}),{c(){e=D("button"),ne(t.$$.fragment)},l(r){e=L(r,"BUTTON",{});var s=v(e);oe(t.$$.fragment,s),s.forEach(c)},m(r,s){B(r,e,s),re(t,e,null),l=!0,n||(o=[Re(e,"click",i[44]),Ve(Se.call(null,e,{text:"Remove comparison"}))],n=!0)},p:G,i(r){l||(k(t.$$.fragment,r),l=!0)},o(r){C(t.$$.fragment,r),l=!1},d(r){r&&c(e),ae(t),n=!1,We(o)}}}function Rr(i){let e,t;return e=new It({props:{disabled:i[14].length===0,helperText:"Compare to",items:i[14],buttonIcon:an,hoist:!0}}),e.$on("select",i[25]),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,n){const o={};n[0]&16384&&(o.disabled=l[14].length===0),n[0]&16384&&(o.items=l[14]),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Hr(i){let e,t;return e=new Li({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Fr(i){let e,t;return e=new Ai({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function al(i){let e,t;return{c(){e=D("div"),t=le(i[16]),this.h()},l(l){e=L(l,"DIV",{class:!0});var n=v(e);t=ie(n,i[16]),n.forEach(c),this.h()},h(){P(e,"class","-m-2 mb-1 rounded bg-gray-100 p-1 px-2 text-xs font-bold uppercase text-gray-700")},m(l,n){B(l,e,n),_(e,t)},p(l,n){n[0]&65536&&we(t,l[16])},d(l){l&&c(e)}}}function jr(i){let e,t;return e=new Al({props:{lines:3,paragraph:!0,class:"w-full"}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:G,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function qr(i){let e,t,l,n;const o=[Ur,Yr],r=[];function s(a,u){return a[9]==null?0:1}return e=s(i),t=r[e]=o[e](i),{c(){t.c(),l=De()},l(a){t.l(a),l=De()},m(a,u){r[e].m(a,u),B(a,l,u),n=!0},p(a,u){let f=e;e=s(a),e===f?r[e].p(a,u):(ve(),C(r[f],1,1,()=>{r[f]=null}),pe(),t=r[e],t?t.p(a,u):(t=r[e]=o[e](a),t.c()),k(t,1),t.m(l.parentNode,l))},i(a){n||(k(t),n=!0)},o(a){C(t),n=!1},d(a){r[e].d(a),a&&c(l)}}}function Yr(i){let e,t,l;function n(r){i[47](r)}let o={row:i[2],colCompareState:i[9],isExpanded:i[8]};return i[7]!==void 0&&(o.textIsOverBudget=i[7]),e=new Cr({props:o}),Xe.push(()=>dt(e,"textIsOverBudget",n)),{c(){ne(e.$$.fragment)},l(r){oe(e.$$.fragment,r)},m(r,s){re(e,r,s),l=!0},p(r,s){const a={};s[0]&4&&(a.row=r[2]),s[0]&512&&(a.colCompareState=r[9]),s[0]&256&&(a.isExpanded=r[8]),!t&&s[0]&128&&(t=!0,a.textIsOverBudget=r[7],ht(()=>t=!1)),e.$set(a)},i(r){l||(k(e.$$.fragment,r),l=!0)},o(r){C(e.$$.fragment,r),l=!1},d(r){ae(e,r)}}}function Ur(i){let e,t,l,n,o,r,s;function a(f){i[46](f)}let u={hidden:i[10],text:st(i[19]),row:i[2],path:i[0],field:i[3],isExpanded:i[8],spanPaths:i[12].spanPaths,spanValueInfos:i[12].spanValueInfos,datasetViewStore:i[23],embeddings:i[6],viewType:i[11]};return i[7]!==void 0&&(u.textIsOverBudget=i[7]),e=new Dr({props:u}),Xe.push(()=>dt(e,"textIsOverBudget",a)),r=new vi({props:{source:st(i[19])}}),{c(){ne(e.$$.fragment),l=ee(),n=D("div"),o=D("div"),ne(r.$$.fragment),this.h()},l(f){oe(e.$$.fragment,f),l=te(f),n=L(f,"DIV",{class:!0});var d=v(n);o=L(d,"DIV",{class:!0});var h=v(o);oe(r.$$.fragment,h),h.forEach(c),d.forEach(c),this.h()},h(){P(o,"class","markdown -ml-0.5 w-fit pl-14"),P(n,"class","markdown w-full"),J(n,"hidden",!i[10])},m(f,d){re(e,f,d),B(f,l,d),B(f,n,d),_(n,o),re(r,o,null),s=!0},p(f,d){const h={};d[0]&1024&&(h.hidden=f[10]),d[0]&524288&&(h.text=st(f[19])),d[0]&4&&(h.row=f[2]),d[0]&1&&(h.path=f[0]),d[0]&8&&(h.field=f[3]),d[0]&256&&(h.isExpanded=f[8]),d[0]&4096&&(h.spanPaths=f[12].spanPaths),d[0]&4096&&(h.spanValueInfos=f[12].spanValueInfos),d[0]&64&&(h.embeddings=f[6]),d[0]&2048&&(h.viewType=f[11]),!t&&d[0]&128&&(t=!0,h.textIsOverBudget=f[7],ht(()=>t=!1)),e.$set(h);const m={};d[0]&524288&&(m.source=st(f[19])),r.$set(m),(!s||d[0]&1024)&&J(n,"hidden",!f[10])},i(f){s||(k(e.$$.fragment,f),k(r.$$.fragment,f),s=!0)},o(f){C(e.$$.fragment,f),C(r.$$.fragment,f),s=!1},d(f){ae(e,f),f&&c(l),f&&c(n),ae(r)}}}function Kr(i){let e,t,l,n;const o=[Ar,Lr],r=[];function s(a,u){return a[22]?0:1}return t=s(i),l=r[t]=o[t](i),{c(){e=D("div"),l.c(),this.h()},l(a){e=L(a,"DIV",{class:!0});var u=v(e);l.l(u),u.forEach(c),this.h()},h(){P(e,"class","flex w-full flex-row gap-x-4 p-2")},m(a,u){B(a,e,u),r[t].m(e,null),n=!0},p(a,u){let f=t;t=s(a),t===f?r[t].p(a,u):(ve(),C(r[f],1,1,()=>{r[f]=null}),pe(),l=r[t],l?l.p(a,u):(l=r[t]=o[t](a),l.c()),k(l,1),l.m(e,null))},i(a){n||(k(l),n=!0)},o(a){C(l),n=!1},d(a){a&&c(e),r[t].d()}}}function Wr(i,e,t){let l,n,o,r,s,a,u,f,d,h,m,T,U,z,V,E,y,O,w,W,R,Q,x,$,F=G,b=()=>(F(),F=Ne(d,me=>t(38,$=me)),d),p,A,N,S=G,j=()=>(S(),S=Ne(z,me=>t(40,N=me)),z),X,ge=G,se=()=>(ge(),ge=Ne(h,me=>t(41,X=me)),h);i.$$.on_destroy.push(()=>F()),i.$$.on_destroy.push(()=>S()),i.$$.on_destroy.push(()=>ge());let{mediaPath:ce}=e,{row:K=void 0}=e,{field:he}=e,{highlightedFields:g}=e,{rootPath:M=void 0}=e,{showPath:q=void 0}=e,H=!1,be=!1,de;const Y=_t();Ye(i,Y,me=>t(39,p=me));const I=Di();Ye(i,I,me=>t(48,A=me));function Z(me){return me.map((je,Ze)=>je===et?M[Ze]:je)}function Ee(me){Y.addCompareColumn([M,me.detail.id])}function Pe(me){var Ze;let je=O[0];if(((Ze=$.data)==null?void 0:Ze.preferred_embedding)!=null){const Ue=$.data.preferred_embedding;O.some(xe=>xe===Ue)&&(je=Ue)}if(A.embedding!=null){const Ue=A.embedding;O.some(xe=>xe===Ue)&&(je=Ue)}Y.addSearch({path:he.path,type:"semantic",query:me,query_type:"document",embedding:je})}let Le=null;function ze(){Y.removeCompareColumn(ce)}const Ge=()=>Pe(f),at=()=>t(5,de=!x),Je=()=>ze(),ot=()=>t(8,be=!be);function Zl(me){H=me,t(7,H)}function Ql(me){H=me,t(7,H)}return i.$$set=me=>{"mediaPath"in me&&t(1,ce=me.mediaPath),"row"in me&&t(2,K=me.row),"field"in me&&t(3,he=me.field),"highlightedFields"in me&&t(4,g=me.highlightedFields),"rootPath"in me&&t(0,M=me.rootPath),"showPath"in me&&t(28,q=me.showPath)},i.$$.update=()=>{var me,je,Ze,Ue,xe,Et,Pt,Ot;if(i.$$.dirty[0]&2&&t(37,l=ce.findIndex(ye=>ye===et)),i.$$.dirty[0]&3|i.$$.dirty[1]&64&&M==null&&(l!=-1?t(0,M=ce.slice(0,l+1)):t(0,M=ce)),i.$$.dirty[0]&5&&t(35,n=K!=null?tt(K,M):[]),i.$$.dirty[1]&16&&t(22,o=n.length<=1),i.$$.dirty[0]&2|i.$$.dirty[1]&16&&t(21,r=n.map(ye=>{const Be=qe.path(ye),vt=ce.findIndex((pt,Jl)=>pt===et&&Jl>=Be.length),Xl=ce.slice(vt).filter(pt=>pt!==et);return{rootPath:[...Be,...ce.slice(Be.length,vt===-1?void 0:vt)],showPath:Xl}})),i.$$.dirty[0]&268435457&&t(36,s=q??M),i.$$.dirty[1]&32&&t(20,a=$e(s)),i.$$.dirty[1]&16&&t(34,u=n[0]),i.$$.dirty[1]&8&&t(19,f=qe.value(u)),i.$$.dirty[1]&256&&b(t(18,d=hi(p.namespace,p.datasetName))),i.$$.dirty[1]&256&&se(t(17,h=mi(p.namespace,p.datasetName))),i.$$.dirty[1]&1024&&t(33,m=(je=(me=X.data)==null?void 0:me.dataset_manifest.dataset_format)==null?void 0:je.title_slots),i.$$.dirty[0]&1|i.$$.dirty[1]&4&&t(32,T=(Ze=(m||[]).find(ye=>{const[Be]=ye;return Ae(Be,M)}))==null?void 0:Ze[1]),i.$$.dirty[0]&4|i.$$.dirty[1]&2&&t(16,U=T!=null&&K!=null?qe.value(tt(K,Z(T))[0]):null),i.$$.dirty[1]&256&&j(t(15,z=gt(p.namespace,p.datasetName))),i.$$.dirty[1]&512&&t(31,V=N.data!=null?Ll(N.data).filter(ye=>{var Be;return((Be=ye.dtype)==null?void 0:Be.type)==="string"}):[]),i.$$.dirty[0]&5|i.$$.dirty[1]&1&&t(30,E=V.map(ye=>ye.path).map(ye=>Array.isArray(ye)?ye:[ye]).flatMap(ye=>K==null?[]:tt(K,ye).map(Be=>qe.path(Be)).filter(Be=>!_i(Be,M)))),i.$$.dirty[0]&1073741824&&t(14,y=E.map(ye=>({id:ye,text:$e(ye)}))),i.$$.dirty[0]&2|i.$$.dirty[1]&512&&t(6,O=gi(N.data,ce)),i.$$.dirty[0]&64&&t(13,w=O.length===0),i.$$.dirty[0]&24&&t(12,W=bi(he,g)),i.$$.dirty[0]&1|i.$$.dirty[1]&256){t(9,Le=null);for(const ye of p.compareColumns)if(Ae(ye.column,M)){t(9,Le=ye);break}}i.$$.dirty[0]&2|i.$$.dirty[1]&128&&t(29,R=((Et=(xe=(Ue=$.data)==null?void 0:Ue.ui)==null?void 0:xe.markdown_paths)==null?void 0:Et.find(ye=>Ae(ye,ce)))!=null),i.$$.dirty[1]&128&&t(11,Q=((Ot=(Pt=$.data)==null?void 0:Pt.ui)==null?void 0:Ot.view_type)||"single_item"),i.$$.dirty[0]&536870944&&t(10,x=de!==void 0?de:R)},[M,ce,K,he,g,de,O,H,be,Le,x,Q,W,w,y,z,U,h,d,f,a,r,o,Y,I,Ee,Pe,ze,q,R,E,V,T,m,u,n,s,l,$,p,N,X,Ge,at,Je,ot,Zl,Ql]}class Gl extends Oe{constructor(e){super(),Te(this,e,Wr,Kr,Ce,{mediaPath:1,row:2,field:3,highlightedFields:4,rootPath:0,showPath:28},null,[-1,-1])}}function Gr(i){let e,t,l,n;return{c(){e=D("button"),t=le(i[1]),this.h()},l(o){e=L(o,"BUTTON",{class:!0});var r=v(e);t=ie(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],P(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),J(e,"bg-slate-500",i[0]),J(e,"hover:bg-slate-500",i[0]),J(e,"hover:bg-transparent",!i[0]),J(e,"text-white",i[0])},m(o,r){B(o,e,r),_(e,t),l||(n=Re(e,"click",i[3]),l=!0)},p(o,[r]){r&2&&we(t,o[1]),r&4&&(e.disabled=o[2]),r&1&&J(e,"bg-slate-500",o[0]),r&1&&J(e,"hover:bg-slate-500",o[0]),r&1&&J(e,"hover:bg-transparent",!o[0]),r&1&&J(e,"text-white",o[0])},i:G,o:G,d(o){o&&c(e),l=!1,n()}}}function Zr(i,e,t){let{label:l}=e,{active:n}=e,{disabled:o=!1}=e;function r(s){Ol.call(this,i,s)}return i.$$set=s=>{"label"in s&&t(1,l=s.label),"active"in s&&t(0,n=s.active),"disabled"in s&&t(2,o=s.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!o)},[n,l,o,r]}class Qr extends Oe{constructor(e){super(),Te(this,e,Zr,Gr,Ce,{label:1,active:0,disabled:2})}}function ol(i,e,t){const l=i.slice();return l[34]=e[t],l[36]=t,l}function sl(i,e,t){const l=i.slice();return l[37]=e[t],l}function ul(i){let e,t,l;function n(){return i[28](i[37])}return t=new Qr({props:{label:i[37],disabled:i[6].has(i[37]),active:i[11].includes(i[37])}}),t.$on("click",n),{c(){e=D("div"),ne(t.$$.fragment),this.h()},l(o){e=L(o,"DIV",{});var r=v(e);oe(t.$$.fragment,r),r.forEach(c),this.h()},h(){J(e,"opacity-50",i[6].has(i[37]))},m(o,r){B(o,e,r),re(t,e,null),l=!0},p(o,r){i=o;const s={};r[0]&512&&(s.label=i[37]),r[0]&576&&(s.disabled=i[6].has(i[37])),r[0]&2560&&(s.active=i[11].includes(i[37])),t.$set(s),(!l||r[0]&576)&&J(e,"opacity-50",i[6].has(i[37]))},i(o){l||(k(t.$$.fragment,o),l=!0)},o(o){C(t.$$.fragment,o),l=!1},d(o){o&&c(e),ae(t)}}}function fl(i){let e=[],t=new Map,l,n,o=i[1];const r=s=>Qe(s[34].path);for(let s=0;s<o.length;s+=1){let a=ol(i,o,s),u=r(a);t.set(u,e[s]=cl(u,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=De()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);l=De()},m(s,a){for(let u=0;u<e.length;u+=1)e[u]&&e[u].m(s,a);B(s,l,a),n=!0},p(s,a){a[0]&14&&(o=s[1],ve(),e=ni(e,a,r,1,s,o,t,l.parentNode,ri,cl,l,ol),pe())},i(s){if(!n){for(let a=0;a<o.length;a+=1)k(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)C(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&c(l)}}}function cl(i,e){let t,l,n,o;return l=new Gl({props:{mediaPath:e[34].path,row:e[3],field:e[34],highlightedFields:e[2]}}),{key:i,first:null,c(){t=D("div"),ne(l.$$.fragment),n=ee(),this.h()},l(r){t=L(r,"DIV",{class:!0});var s=v(t);oe(l.$$.fragment,s),n=te(s),s.forEach(c),this.h()},h(){P(t,"class","flex h-full w-full flex-col border-neutral-200"),J(t,"border-b",e[36]<e[1].length-1),J(t,"pb-2",e[36]<e[1].length-1),this.first=t},m(r,s){B(r,t,s),re(l,t,null),_(t,n),o=!0},p(r,s){e=r;const a={};s[0]&2&&(a.mediaPath=e[34].path),s[0]&8&&(a.row=e[3]),s[0]&2&&(a.field=e[34]),s[0]&4&&(a.highlightedFields=e[2]),l.$set(a),(!o||s[0]&2)&&J(t,"border-b",e[36]<e[1].length-1),(!o||s[0]&2)&&J(t,"pb-2",e[36]<e[1].length-1)},i(r){o||(k(l.$$.fragment,r),o=!0)},o(r){C(l.$$.fragment,r),o=!1},d(r){r&&c(t),ae(l)}}}function Xr(i){let e,t;return e=new Ci({}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Jr(i){let e,t;return e=new Vi({}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function dl(i){let e,t,l,n,o,r,s;return n=new Fi({props:{row:i[3],selectRowsSchema:i[4].data,highlightedFields:i[2]}}),{c(){e=D("div"),t=D("div"),l=D("div"),ne(n.$$.fragment),this.h()},l(a){e=L(a,"DIV",{class:!0});var u=v(e);t=L(u,"DIV",{class:!0});var f=v(t);l=L(f,"DIV",{style:!0,class:!0});var d=v(l);oe(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){P(l,"style",o=`max-height: ${Math.max(hl,i[7])}px`),P(l,"class","overflow-y-auto"),P(t,"class","sticky top-0 w-full self-start"),P(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(a,u){B(a,e,u),_(e,t),_(t,l),re(n,l,null),s=!0},p(a,u){i=a;const f={};u[0]&8&&(f.row=i[3]),u[0]&16&&(f.selectRowsSchema=i[4].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!s||u[0]&128&&o!==(o=`max-height: ${Math.max(hl,i[7])}px`))&&P(l,"style",o)},i(a){s||(k(n.$$.fragment,a),Tl(()=>{s&&(r||(r=Tt(e,St,{axis:"x",duration:Ct},!0)),r.run(1))}),s=!0)},o(a){C(n.$$.fragment,a),r||(r=Tt(e,St,{axis:"x",duration:Ct},!1)),r.run(0),s=!1},d(a){a&&c(e),ae(n),a&&r&&r.end()}}}function xr(i){let e,t,l,n,o,r,s,a,u,f,d,h,m,T,U,z,V,E,y,O=i[9]||[],w=[];for(let b=0;b<O.length;b+=1)w[b]=ul(sl(i,O,b));const W=b=>C(w[b],1,1,()=>{w[b]=null});r=new Rn({props:{icon:Fl,labelsQuery:{row_ids:[i[0]]},hideLabels:i[11]}});let R=i[1].length>0&&fl(i);const Q=[Jr,Xr],x=[];function $(b,p){return b[5].showMetadataPanel?0:1}d=$(i),h=x[d]=Q[d](i);let F=i[5].showMetadataPanel&&dl(i);return{c(){e=D("div"),t=D("div"),l=D("div");for(let b=0;b<w.length;b+=1)w[b].c();n=ee(),o=D("div"),ne(r.$$.fragment),s=ee(),R&&R.c(),a=ee(),u=D("div"),f=D("button"),h.c(),z=ee(),F&&F.c(),this.h()},l(b){e=L(b,"DIV",{class:!0});var p=v(e);t=L(p,"DIV",{class:!0});var A=v(t);l=L(A,"DIV",{class:!0});var N=v(l);for(let ge=0;ge<w.length;ge+=1)w[ge].l(N);n=te(N),o=L(N,"DIV",{class:!0});var S=v(o);oe(r.$$.fragment,S),S.forEach(c),N.forEach(c),s=te(A),R&&R.l(A),a=te(A),u=L(A,"DIV",{class:!0});var j=v(u);f=L(j,"BUTTON",{class:!0});var X=v(f);h.l(X),X.forEach(c),j.forEach(c),A.forEach(c),z=te(p),F&&F.l(p),p.forEach(c),this.h()},h(){P(o,"class","relative h-8"),P(l,"class","flex flex-wrap items-center gap-x-2 gap-y-2"),J(l,"opacity-50",i[10]),P(f,"class","mr-1 mt-1 opacity-60 hover:bg-gray-200"),P(u,"class","absolute right-0 top-0"),P(t,"class",T=`flex flex-col gap-y-1 p-4 ${i[5].showMetadataPanel?"w-2/3":"grow "}`),Tl(()=>i[30].call(t)),P(e,"class","flex w-full flex-col rounded border border-neutral-300 md:flex-row")},m(b,p){B(b,e,p),_(e,t),_(t,l);for(let A=0;A<w.length;A+=1)w[A]&&w[A].m(l,null);_(l,n),_(l,o),re(r,o,null),_(t,s),R&&R.m(t,null),_(t,a),_(t,u),_(u,f),x[d].m(f,null),U=ii(t,i[30].bind(t)),_(e,z),F&&F.m(e,null),V=!0,E||(y=[Ve(m=Se.call(null,f,{text:i[5].showMetadataPanel?"Close metadata":"Open metadata"})),Re(f,"click",i[29])],E=!0)},p(b,p){if(p[0]&789056){O=b[9]||[];let S;for(S=0;S<O.length;S+=1){const j=sl(b,O,S);w[S]?(w[S].p(j,p),k(w[S],1)):(w[S]=ul(j),w[S].c(),k(w[S],1),w[S].m(l,n))}for(ve(),S=O.length;S<w.length;S+=1)W(S);pe()}const A={};p[0]&1&&(A.labelsQuery={row_ids:[b[0]]}),p[0]&2048&&(A.hideLabels=b[11]),r.$set(A),(!V||p[0]&1024)&&J(l,"opacity-50",b[10]),b[1].length>0?R?(R.p(b,p),p[0]&2&&k(R,1)):(R=fl(b),R.c(),k(R,1),R.m(t,a)):R&&(ve(),C(R,1,1,()=>{R=null}),pe());let N=d;d=$(b),d!==N&&(ve(),C(x[N],1,1,()=>{x[N]=null}),pe(),h=x[d],h||(h=x[d]=Q[d](b),h.c()),k(h,1),h.m(f,null)),m&&Fe(m.update)&&p[0]&32&&m.update.call(null,{text:b[5].showMetadataPanel?"Close metadata":"Open metadata"}),(!V||p[0]&32&&T!==(T=`flex flex-col gap-y-1 p-4 ${b[5].showMetadataPanel?"w-2/3":"grow "}`))&&P(t,"class",T),b[5].showMetadataPanel?F?(F.p(b,p),p[0]&32&&k(F,1)):(F=dl(b),F.c(),k(F,1),F.m(e,null)):F&&(ve(),C(F,1,1,()=>{F=null}),pe())},i(b){if(!V){for(let p=0;p<O.length;p+=1)k(w[p]);k(r.$$.fragment,b),k(R),k(h),k(F),V=!0}},o(b){w=w.filter(Boolean);for(let p=0;p<w.length;p+=1)C(w[p]);C(r.$$.fragment,b),C(R),C(h),C(F),V=!1},d(b){b&&c(e),mt(w,b),ae(r),R&&R.d(),x[d].d(),U(),F&&F.d(),E=!1,We(y)}}}const hl=165;function $r(i,e,t){let l,n,o,r,s,a,u,f,d,h,m,T,U,z,V,E=G,y=()=>(E(),E=Ne(a,I=>t(31,V=I)),a),O,w=G,W=()=>(w(),w=Ne(U,I=>t(32,O=I)),U),R,Q=G,x=()=>(Q(),Q=Ne(f,I=>t(25,R=I)),f),$,F=G,b=()=>(F(),F=Ne(r,I=>t(26,$=I)),r),p,A=G,N=()=>(A(),A=Ne(s,I=>t(4,p=I)),s),S,j;i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>w()),i.$$.on_destroy.push(()=>Q()),i.$$.on_destroy.push(()=>F()),i.$$.on_destroy.push(()=>A());let{rowId:X}=e,{mediaFields:ge}=e,{highlightedFields:se}=e;const ce=_t();Ye(i,ce,I=>t(5,S=I));const K=Hl(),he=Cl();Ye(i,he,I=>t(27,j=I));let g=new Set,M=0;function q(I){const Z={row_ids:[X],label_name:I};g.add(I),t(6,g),t(22,z),t(25,R),O.mutate([l,n,Z],{onSuccess:Ee=>{const Pe=Z.row_ids!=null?`Document id: ${Z.row_ids}`:`${Ee.toLocaleString()} rows labeled`;K.addNotification({kind:"success",title:`Added label "${Z.label_name}"`,message:Pe})}})}function H(I){const Z={label_name:I,row_ids:[X]};g.add(I),t(6,g),t(22,z),t(25,R),V.mutate([l,n,Z],{onSuccess:()=>{K.addNotification({kind:"success",title:`Removed label "${Z.label_name}"`,message:`Document id: ${X}`})}})}const be=I=>{h.includes(I)?H(I):q(I)},de=()=>ai(ce,S.showMetadataPanel=!S.showMetadataPanel,S);function Y(){M=this.clientHeight,t(7,M)}return i.$$set=I=>{"rowId"in I&&t(0,X=I.rowId),"mediaFields"in I&&t(1,ge=I.mediaFields),"highlightedFields"in I&&t(2,se=I.highlightedFields)},i.$$.update=()=>{var I;i.$$.dirty[0]&32&&t(21,l=S.namespace),i.$$.dirty[0]&32&&t(20,n=S.datasetName),i.$$.dirty[0]&134217728&&t(23,o=(I=j.data)==null?void 0:I.access.dataset.edit_labels),i.$$.dirty[0]&3145728&&b(t(15,r=gt(l,n))),i.$$.dirty[0]&3145760&&N(t(14,s=pi(l,n,wi(S)))),i.$$.dirty[0]&67108864&&y(t(13,a=$.data!=null?Sl($.data):null)),i.$$.dirty[0]&32&&t(24,u=yi(S)),i.$$.dirty[0]&19922961&&x(t(12,f=p.data!=null&&!p.isFetching?ki(l,n,X,u,p.data.schema):null)),i.$$.dirty[0]&33554432&&t(3,d=R!=null&&!R.isFetching?R==null?void 0:R.data:null),i.$$.dirty[0]&8&&t(11,h=d!=null?Mi(d):[]),i.$$.dirty[0]&8388608&&t(10,m=!o),i.$$.dirty[0]&67108864&&t(9,T=$.data&&Dl($.data)),i.$$.dirty[0]&67108864&&W(t(8,U=$.data!=null?Vl($.data):null)),i.$$.dirty[0]&33554432&&t(22,z=R==null?void 0:R.isStale),i.$$.dirty[0]&4194304&&(z||t(6,g=new Set))},[X,ge,se,d,p,S,g,M,U,T,m,h,f,a,s,r,ce,he,q,H,n,l,z,o,u,R,$,j,be,de,Y]}class Oa extends Oe{constructor(e){super(),Te(this,e,$r,xr,Ce,{rowId:0,mediaFields:1,highlightedFields:2},null,[-1,-1])}}function ml(i){let e,t,l;var n=i[2];function o(r){return{}}return n&&(t=lt(n,o())),{c(){e=D("div"),t&&ne(t.$$.fragment),this.h()},l(r){e=L(r,"DIV",{class:!0});var s=v(e);t&&oe(t.$$.fragment,s),s.forEach(c),this.h()},h(){P(e,"class","mr-2")},m(r,s){B(r,e,s),t&&re(t,e,null),l=!0},p(r,s){if(s&4&&n!==(n=r[2])){if(t){ve();const a=t;C(a.$$.fragment,1,0,()=>{ae(a,1)}),pe()}n?(t=lt(n,o()),ne(t.$$.fragment),k(t.$$.fragment,1),re(t,e,null)):t=null}},i(r){l||(t&&k(t.$$.fragment,r),l=!0)},o(r){t&&C(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&ae(t)}}}function ea(i){let e,t,l,n,o,r,s,a,u=i[2]!=null&&ml(i);return{c(){e=D("button"),u&&u.c(),t=ee(),l=D("div"),n=le(i[1]),this.h()},l(f){e=L(f,"BUTTON",{class:!0});var d=v(e);u&&u.l(d),t=te(d),l=L(d,"DIV",{class:!0});var h=v(l);n=ie(h,i[1]),h.forEach(c),d.forEach(c),this.h()},h(){P(l,"class","text-sm"),P(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),J(e,"active",i[0])},m(f,d){B(f,e,d),u&&u.m(e,null),_(e,t),_(e,l),_(l,n),r=!0,s||(a=[Re(e,"click",i[4]),Ve(o=Se.call(null,e,{text:i[3]}))],s=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&k(u,1)):(u=ml(f),u.c(),k(u,1),u.m(e,t)):u&&(ve(),C(u,1,1,()=>{u=null}),pe()),(!r||d&2)&&we(n,f[1]),o&&Fe(o.update)&&d&8&&o.update.call(null,{text:f[3]}),(!r||d&1)&&J(e,"active",f[0])},i(f){r||(k(u),r=!0)},o(f){C(u),r=!1},d(f){f&&c(e),u&&u.d(),s=!1,We(a)}}}function ta(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:o=void 0}=e,{tooltip:r=void 0}=e;function s(a){Ol.call(this,i,a)}return i.$$set=a=>{"active"in a&&t(0,l=a.active),"label"in a&&t(1,n=a.label),"icon"in a&&t(2,o=a.icon),"tooltip"in a&&t(3,r=a.tooltip)},[l,n,o,r,s]}class _l extends Oe{constructor(e){super(),Te(this,e,ta,ea,Ce,{active:0,label:1,icon:2,tooltip:3})}}function gl(i,e,t){const l=i.slice();return l[26]=e[t],l}function bl(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function Mt(i){const e=i.slice(),t=Nl(e[30]);e[33]=t;const l=zl(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const o=e[32]===e[0].ui.media_paths.length-1;return e[36]=o,e}function la(i){let e,t,l,n,o,r,s,a,u,f,d,h,m,T,U,z,V,E,y,O,w,W,R,Q,x,$,F,b,p,A,N;const S=[ra,na],j=[];function X(K,he){var g;return((g=K[0].ui)==null?void 0:g.media_paths)!=null&&K[1]!=null?0:1}u=X(i),f=j[u]=S[u](i),V=new _l({props:{icon:_n,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),V.$on("click",i[22]),y=new _l({props:{icon:un,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),y.$on("click",i[23]);const ge=[ua,sa],se=[];function ce(K,he){return K[6].isFetching?0:1}return p=ce(i),A=se[p]=ge[p](i),{c(){e=D("div"),t=D("section"),l=D("div"),n=le("Media fields"),o=ee(),r=D("div"),s=le(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),a=ee(),f.c(),d=ee(),h=D("section"),m=D("div"),T=le("View type"),U=ee(),z=D("div"),ne(V.$$.fragment),E=ee(),ne(y.$$.fragment),O=ee(),w=D("section"),W=D("div"),R=le("Preferred embedding"),Q=ee(),x=D("div"),$=le("This embedding will be used by default when indexing and querying the data."),F=ee(),b=D("div"),A.c(),this.h()},l(K){e=L(K,"DIV",{class:!0});var he=v(e);t=L(he,"SECTION",{class:!0});var g=v(t);l=L(g,"DIV",{class:!0});var M=v(l);n=ie(M,"Media fields"),M.forEach(c),o=te(g),r=L(g,"DIV",{class:!0});var q=v(r);s=ie(q,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),q.forEach(c),a=te(g),f.l(g),g.forEach(c),d=te(he),h=L(he,"SECTION",{class:!0});var H=v(h);m=L(H,"DIV",{class:!0});var be=v(m);T=ie(be,"View type"),be.forEach(c),U=te(H),z=L(H,"DIV",{class:!0});var de=v(z);oe(V.$$.fragment,de),E=te(de),oe(y.$$.fragment,de),de.forEach(c),H.forEach(c),O=te(he),w=L(he,"SECTION",{class:!0});var Y=v(w);W=L(Y,"DIV",{class:!0});var I=v(W);R=ie(I,"Preferred embedding"),I.forEach(c),Q=te(Y),x=L(Y,"DIV",{class:!0});var Z=v(x);$=ie(Z,"This embedding will be used by default when indexing and querying the data."),Z.forEach(c),F=te(Y),b=L(Y,"DIV",{class:!0});var Ee=v(b);A.l(Ee),Ee.forEach(c),Y.forEach(c),he.forEach(c),this.h()},h(){P(l,"class","text-lg text-gray-700"),P(r,"class","text-sm text-gray-500"),P(t,"class","flex flex-col gap-y-4"),P(m,"class","text-lg text-gray-700"),P(z,"class","flex gap-x-2"),P(h,"class","flex flex-col gap-y-1"),P(W,"class","text-lg text-gray-700"),P(x,"class","text-sm text-gray-500"),P(b,"class","w-60"),P(w,"class","flex flex-col gap-y-1"),P(e,"class","flex flex-col gap-y-6")},m(K,he){B(K,e,he),_(e,t),_(t,l),_(l,n),_(t,o),_(t,r),_(r,s),_(t,a),j[u].m(t,null),_(e,d),_(e,h),_(h,m),_(m,T),_(h,U),_(h,z),re(V,z,null),_(z,E),re(y,z,null),_(e,O),_(e,w),_(w,W),_(W,R),_(w,Q),_(w,x),_(x,$),_(w,F),_(w,b),se[p].m(b,null),N=!0},p(K,he){let g=u;u=X(K),u===g?j[u].p(K,he):(ve(),C(j[g],1,1,()=>{j[g]=null}),pe(),f=j[u],f?f.p(K,he):(f=j[u]=S[u](K),f.c()),k(f,1),f.m(t,null));const M={};he[0]&16&&(M.active=K[4]=="scroll"),V.$set(M);const q={};he[0]&16&&(q.active=K[4]=="single_item"),y.$set(q);let H=p;p=ce(K),p===H?se[p].p(K,he):(ve(),C(se[H],1,1,()=>{se[H]=null}),pe(),A=se[p],A?A.p(K,he):(A=se[p]=ge[p](K),A.c()),k(A,1),A.m(b,null))},i(K){N||(k(f),k(V.$$.fragment,K),k(y.$$.fragment,K),k(A),N=!0)},o(K){C(f),C(V.$$.fragment,K),C(y.$$.fragment,K),C(A),N=!1},d(K){K&&c(e),j[u].d(),ae(V),ae(y),se[p].d()}}}function ia(i){let e,t;return e=new Al({}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:G,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function na(i){let e,t;return e=new Bl({}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:G,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function ra(i){let e,t,l,n,o,r,s,a,u,f,d,h,m,T,U,z,V,E,y=i[1]&&vl(i),O=i[3]&&kl(i);return{c(){e=D("div"),t=D("div"),l=D("div"),n=D("div"),o=ee(),r=D("div"),s=le("Field"),a=ee(),u=D("div"),f=le("Markdown"),d=ee(),h=D("div"),m=ee(),y&&y.c(),T=ee(),U=D("div"),O&&O.c(),this.h()},l(w){e=L(w,"DIV",{class:!0});var W=v(e);t=L(W,"DIV",{class:!0});var R=v(t);l=L(R,"DIV",{class:!0});var Q=v(l);n=L(Q,"DIV",{class:!0}),v(n).forEach(c),o=te(Q),r=L(Q,"DIV",{class:!0});var x=v(r);s=ie(x,"Field"),x.forEach(c),a=te(Q),u=L(Q,"DIV",{class:!0});var $=v(u);f=ie($,"Markdown"),$.forEach(c),d=te(Q),h=L(Q,"DIV",{class:!0}),v(h).forEach(c),Q.forEach(c),R.forEach(c),m=te(W),y&&y.l(W),W.forEach(c),T=te(w),U=L(w,"DIV",{class:!0});var F=v(U);O&&O.l(F),F.forEach(c),this.h()},h(){P(n,"class","table-cell"),P(r,"class","table-cell"),P(u,"class","table-cell"),P(h,"class","table-cell"),P(l,"class","table-row text-xs text-neutral-600"),P(t,"class","table-header-group items-center"),P(e,"class","table border-spacing-1 gap-y-2"),P(U,"class","h-12")},m(w,W){B(w,e,W),_(e,t),_(t,l),_(l,n),_(l,o),_(l,r),_(r,s),_(l,a),_(l,u),_(u,f),_(l,d),_(l,h),_(e,m),y&&y.m(e,null),B(w,T,W),B(w,U,W),O&&O.m(U,null),z=!0,V||(E=Ve(Se.call(null,u,{text:"Render media field with a markdown renderer."})),V=!0)},p(w,W){w[1]?y?(y.p(w,W),W[0]&2&&k(y,1)):(y=vl(w),y.c(),k(y,1),y.m(e,null)):y&&(ve(),C(y,1,1,()=>{y=null}),pe()),w[3]?O?(O.p(w,W),W[0]&8&&k(O,1)):(O=kl(w),O.c(),k(O,1),O.m(U,null)):O&&(ve(),C(O,1,1,()=>{O=null}),pe())},i(w){z||(k(y),k(O),z=!0)},o(w){C(y),C(O),z=!1},d(w){w&&c(e),y&&y.d(),w&&c(T),w&&c(U),O&&O.d(),V=!1,E()}}}function vl(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=yl(bl(i,l,r));const o=r=>C(n[r],1,1,()=>{n[r]=null});return{c(){e=D("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=L(r,"DIV",{class:!0});var s=v(e);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(c),this.h()},h(){P(e,"class","table-row-group")},m(r,s){B(r,e,s);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);t=!0},p(r,s){if(s[0]&15875){l=r[0].ui.media_paths;let a;for(a=0;a<l.length;a+=1){const u=bl(r,l,a);n[a]?(n[a].p(u,s),k(n[a],1)):(n[a]=yl(u),n[a].c(),k(n[a],1),n[a].m(e,null))}for(ve(),a=l.length;a<n.length;a+=1)o(a);pe()}},i(r){if(!t){for(let s=0;s<l.length;s+=1)k(n[s]);t=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)C(n[s]);t=!1},d(r){r&&c(e),mt(n,r)}}}function pl(i){let e,t,l,n,o,r=i[30].path.indexOf(et)>=0,s,a,u=Qe(i[30].path)+"",f,d,h,m,T,U,z,V,E,y,O,w,W,R,Q,x,$,F,b,p,A,N,S;const j=[oa,aa],X=[];function ge(M,q){return M[30].dtype&&M[30].dtype.type!=="map"?0:1}l=ge(i),n=X[l]=j[l](i);let se=r&&wl();function ce(...M){return i[17](i[30],...M)}m=new Oi({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),m.$on("toggle",ce),y=new Xi({props:{size:16}});function K(){return i[18](i[30])}R=new Gi({props:{size:16}});function he(){return i[19](i[30])}b=new Ti({props:{size:16}});function g(){return i[20](i[30])}return{c(){e=D("div"),t=D("div"),n.c(),o=ee(),se&&se.c(),s=ee(),a=D("div"),f=le(u),d=ee(),h=D("div"),ne(m.$$.fragment),T=ee(),U=D("div"),z=D("div"),V=D("div"),E=D("button"),ne(y.$$.fragment),O=ee(),w=D("div"),W=D("button"),ne(R.$$.fragment),x=ee(),$=D("div"),F=D("button"),ne(b.$$.fragment),p=ee(),this.h()},l(M){e=L(M,"DIV",{class:!0});var q=v(e);t=L(q,"DIV",{class:!0});var H=v(t);n.l(H),o=te(H),se&&se.l(H),H.forEach(c),s=te(q),a=L(q,"DIV",{class:!0});var be=v(a);f=ie(be,u),be.forEach(c),d=te(q),h=L(q,"DIV",{class:!0});var de=v(h);oe(m.$$.fragment,de),de.forEach(c),T=te(q),U=L(q,"DIV",{class:!0});var Y=v(U);z=L(Y,"DIV",{class:!0});var I=v(z);V=L(I,"DIV",{class:!0});var Z=v(V);E=L(Z,"BUTTON",{});var Ee=v(E);oe(y.$$.fragment,Ee),Ee.forEach(c),Z.forEach(c),O=te(I),w=L(I,"DIV",{class:!0});var Pe=v(w);W=L(Pe,"BUTTON",{});var Le=v(W);oe(R.$$.fragment,Le),Le.forEach(c),Pe.forEach(c),x=te(I),$=L(I,"DIV",{class:!0});var ze=v($);F=L(ze,"BUTTON",{});var Ge=v(F);oe(b.$$.fragment,Ge),Ge.forEach(c),ze.forEach(c),I.forEach(c),Y.forEach(c),p=te(q),q.forEach(c),this.h()},h(){P(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),J(t,"bg-blue-200",i[33]),J(t,"bg-teal-100",i[34]),P(a,"class","table-cell w-40 align-middle"),P(h,"class","table-cell w-8 align-middle"),E.disabled=i[35],J(E,"opacity-50",i[35]),P(V,"class","ml-auto align-middle"),W.disabled=Q=i[36],J(W,"opacity-50",i[36]),P(w,"class","align-middle"),P($,"class","align-middle"),P(z,"class","flex flex-row gap-x-1"),P(U,"class","table-cell"),P(e,"class","table-row h-10")},m(M,q){B(M,e,q),_(e,t),X[l].m(t,null),_(t,o),se&&se.m(t,null),_(e,s),_(e,a),_(a,f),_(e,d),_(e,h),re(m,h,null),_(e,T),_(e,U),_(U,z),_(z,V),_(V,E),re(y,E,null),_(z,O),_(z,w),_(w,W),re(R,W,null),_(z,x),_(z,$),_($,F),re(b,F,null),_(e,p),A=!0,N||(S=[Re(E,"click",K),Ve(Se.call(null,V,{text:"Move media field up"})),Re(W,"click",he),Ve(Se.call(null,w,{text:"Move media field down"})),Re(F,"click",g),Ve(Se.call(null,$,{text:"Remove media field"}))],N=!0)},p(M,q){i=M;let H=l;l=ge(i),l===H?X[l].p(i,q):(ve(),C(X[H],1,1,()=>{X[H]=null}),pe(),n=X[l],n?n.p(i,q):(n=X[l]=j[l](i),n.c()),k(n,1),n.m(t,o)),q[0]&3&&(r=i[30].path.indexOf(et)>=0),r?se||(se=wl(),se.c(),se.m(t,null)):se&&(se.d(1),se=null),(!A||q[0]&3)&&J(t,"bg-blue-200",i[33]),(!A||q[0]&3)&&J(t,"bg-teal-100",i[34]),(!A||q[0]&3)&&u!==(u=Qe(i[30].path)+"")&&we(f,u);const be={};q[0]&3&&(be.toggled=i[12](i[30])),m.$set(be),(!A||q[0]&1&&Q!==(Q=i[36]))&&(W.disabled=Q),(!A||q[0]&1)&&J(W,"opacity-50",i[36])},i(M){A||(k(n),k(m.$$.fragment,M),k(y.$$.fragment,M),k(R.$$.fragment,M),k(b.$$.fragment,M),A=!0)},o(M){C(n),C(m.$$.fragment,M),C(y.$$.fragment,M),C(R.$$.fragment,M),C(b.$$.fragment,M),A=!1},d(M){M&&c(e),X[l].d(),se&&se.d(),ae(m),ae(y),ae(R),ae(b),N=!1,We(S)}}}function aa(i){let e,t="{}",l,n;return{c(){e=D("span"),l=le(t),this.h()},l(o){e=L(o,"SPAN",{class:!0,title:!0});var r=v(e);l=ie(r,t),r.forEach(c),this.h()},h(){var o;P(e,"class","font-mono"),P(e,"title",n=(o=i[30].dtype)==null?void 0:o.type)},m(o,r){B(o,e,r),_(e,l)},p(o,r){var s;r[0]&3&&n!==(n=(s=o[30].dtype)==null?void 0:s.type)&&P(e,"title",n)},i:G,o:G,d(o){o&&c(e)}}}function oa(i){let e,t,l;var n=Vt[i[30].dtype.type];function o(r){return{props:{title:r[30].dtype.type}}}return n&&(e=lt(n,o(i))),{c(){e&&ne(e.$$.fragment),t=De()},l(r){e&&oe(e.$$.fragment,r),t=De()},m(r,s){e&&re(e,r,s),B(r,t,s),l=!0},p(r,s){const a={};if(s[0]&3&&(a.title=r[30].dtype.type),s[0]&3&&n!==(n=Vt[r[30].dtype.type])){if(e){ve();const u=e;C(u.$$.fragment,1,0,()=>{ae(u,1)}),pe()}n?(e=lt(n,o(r)),ne(e.$$.fragment),k(e.$$.fragment,1),re(e,t.parentNode,t)):e=null}else n&&e.$set(a)},i(r){l||(e&&k(e.$$.fragment,r),l=!0)},o(r){e&&C(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&ae(e,r)}}}function wl(i){let e;return{c(){e=le("[]")},l(t){e=ie(t,"[]")},m(t,l){B(t,e,l)},d(t){t&&c(e)}}}function yl(i){let e,t,l=i[30]&&pl(Mt(i));return{c(){l&&l.c(),e=De()},l(n){l&&l.l(n),e=De()},m(n,o){l&&l.m(n,o),B(n,e,o),t=!0},p(n,o){n[30]?l?(l.p(Mt(n),o),o[0]&3&&k(l,1)):(l=pl(Mt(n)),l.c(),k(l,1),l.m(e.parentNode,e)):l&&(ve(),C(l,1,1,()=>{l=null}),pe())},i(n){t||(k(l),t=!0)},o(n){C(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function kl(i){let e,t;return e=new It({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:Ui,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,n){const o={};n[0]&8&&(o.disabled=l[3].length===0),n[0]&8&&(o.items=l[3]),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function sa(i){var l;let e,t;return e=new Pi({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[fa]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){ne(e.$$.fragment)},l(n){oe(e.$$.fragment,n)},m(n,o){re(e,n,o),t=!0},p(n,o){var s;const r={};o[0]&1&&(r.selected=((s=n[0])==null?void 0:s.preferred_embedding)||void 0),o[0]&64|o[1]&64&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function ua(i){let e,t;return e=new Bl({}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:G,i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function Ml(i){let e,t;return e=new Rl({props:{value:i[26].name}}),{c(){ne(e.$$.fragment)},l(l){oe(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,n){const o={};n[0]&64&&(o.value=l[26].name),e.$set(o)},i(l){t||(k(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){ae(e,l)}}}function fa(i){let e,t,l,n;e=new Rl({props:{value:void 0,text:"None"}});let o=i[6].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=Ml(gl(i,o,a));const s=a=>C(r[a],1,1,()=>{r[a]=null});return{c(){ne(e.$$.fragment),t=ee();for(let a=0;a<r.length;a+=1)r[a].c();l=De()},l(a){oe(e.$$.fragment,a),t=te(a);for(let u=0;u<r.length;u+=1)r[u].l(a);l=De()},m(a,u){re(e,a,u),B(a,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(a,u);B(a,l,u),n=!0},p(a,u){if(u[0]&64){o=a[6].data||[];let f;for(f=0;f<o.length;f+=1){const d=gl(a,o,f);r[f]?(r[f].p(d,u),k(r[f],1)):(r[f]=Ml(d),r[f].c(),k(r[f],1),r[f].m(l.parentNode,l))}for(ve(),f=o.length;f<r.length;f+=1)s(f);pe()}},i(a){if(!n){k(e.$$.fragment,a);for(let u=0;u<o.length;u+=1)k(r[u]);n=!0}},o(a){C(e.$$.fragment,a),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)C(r[u]);n=!1},d(a){ae(e,a),a&&c(t),mt(r,a),a&&c(l)}}}function ca(i){let e,t,l,n;const o=[ia,la],r=[];function s(a,u){return a[0]==null||a[2].data==null?0:1}return e=s(i),t=r[e]=o[e](i),{c(){t.c(),l=De()},l(a){t.l(a),l=De()},m(a,u){r[e].m(a,u),B(a,l,u),n=!0},p(a,u){let f=e;e=s(a),e===f?r[e].p(a,u):(ve(),C(r[f],1,1,()=>{r[f]=null}),pe(),t=r[e],t?t.p(a,u):(t=r[e]=o[e](a),t.c()),k(t,1),t.m(l.parentNode,l))},i(a){n||(k(t),n=!0)},o(a){C(t),n=!1},d(a){r[e].d(a),a&&c(l)}}}function da(i,e,t){let l,n,o,r,s,a=G,u=()=>(a(),a=Ne(l,N=>t(2,s=N)),l),f;i.$$.on_destroy.push(()=>a());let{namespace:d}=e,{datasetName:h}=e,{newSettings:m}=e;const T=Ii();Ye(i,T,N=>t(6,f=N));function U(N){const S=N.detail.id;m.ui==null&&t(0,m.ui={},m),m.ui.media_paths==null&&t(0,m.ui.media_paths=[],m),m.ui.media_paths.find(X=>Ae(X,S.path))==null&&t(0,m.ui.media_paths=[...m.ui.media_paths,S.path],m)}function z(N){var S;((S=m.ui)==null?void 0:S.media_paths)!=null&&t(0,m.ui.media_paths=m.ui.media_paths.filter(j=>!Ae(j,N.path)),m)}function V(N){var j;if(((j=m.ui)==null?void 0:j.media_paths)==null)return;const S=m.ui.media_paths.findIndex(X=>Ae(X,N.path));S<=0||t(0,m.ui.media_paths=[...m.ui.media_paths.slice(0,S-1),N.path,m.ui.media_paths[S-1],...m.ui.media_paths.slice(S+1)],m)}function E(N){var j;if(((j=m.ui)==null?void 0:j.media_paths)==null)return;const S=m.ui.media_paths.findIndex(X=>Ae(X,N.path));S<0||S>=m.ui.media_paths.length-1||t(0,m.ui.media_paths=[...m.ui.media_paths.slice(0,S),m.ui.media_paths[S+1],N.path,...m.ui.media_paths.slice(S+2)],m)}function y(N){var S,j;return((j=(S=m.ui)==null?void 0:S.markdown_paths)==null?void 0:j.find(X=>Ae(X,N.path)))!=null}function O(N,S){N.detail.toggled?w(S):W(S)}function w(N){m.ui==null&&t(0,m.ui={},m),m.ui.markdown_paths==null&&t(0,m.ui.markdown_paths=[],m),m.ui.markdown_paths.find(j=>Ae(j,N.path))==null&&t(0,m.ui.markdown_paths=[...m.ui.markdown_paths,N.path],m)}function W(N){m.ui!=null&&m.ui.markdown_paths!=null&&t(0,m.ui.markdown_paths=m.ui.markdown_paths.filter(S=>!Ae(S,N.path)),m)}function R(N){const S=N.target.value;t(0,m.preferred_embedding=S===""?void 0:S,m)}const Q=(N,S)=>O(S,N),x=N=>V(N),$=N=>E(N),F=N=>z(N),b=(N,S)=>Ae(S.path,N),p=()=>{(m==null?void 0:m.ui)!=null&&t(0,m.ui.view_type="scroll",m)},A=()=>{(m==null?void 0:m.ui)!=null&&t(0,m.ui.view_type="single_item",m)};return i.$$set=N=>{"namespace"in N&&t(15,d=N.namespace),"datasetName"in N&&t(16,h=N.datasetName),"newSettings"in N&&t(0,m=N.newSettings)},i.$$.update=()=>{var N;i.$$.dirty[0]&98304&&u(t(5,l=gt(d,h))),i.$$.dirty[0]&1&&t(4,n=((N=m==null?void 0:m.ui)==null?void 0:N.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,o=s.data!=null?Ll(s.data).filter(S=>{var j;return((j=S.dtype)==null?void 0:j.type)==="string"&&!Ae(S.path,[Ei])&&!Nl(S)&&!zl(S)}):null),i.$$.dirty[0]&3&&t(3,r=o!=null?o.filter(S=>{var j,X;return!((X=(j=m.ui)==null?void 0:j.media_paths)!=null&&X.includes(S.path))}).map(S=>{const j=Qe(S.path);return{id:S,text:j}}):null)},[m,o,s,r,n,l,f,T,U,z,V,E,y,O,R,d,h,Q,x,$,F,b,p,A]}class Ta extends Oe{constructor(e){super(),Te(this,e,da,ca,Ce,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{Ui as A,Ta as D,Rn as E,Oa as R,Fl as T};
